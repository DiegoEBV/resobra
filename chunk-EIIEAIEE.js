import{a as qt}from"./chunk-VTM53OAN.js";import{a as Zt}from"./chunk-D7U3XHOK.js";import{a as Ft,b as Pt,c as St,d as Ot,e as It,f as Tt}from"./chunk-ZRWTJLBH.js";import"./chunk-OGQ77C6X.js";import{a as Ht}from"./chunk-42EQRTQ5.js";import{a as ii}from"./chunk-NXOYKD4N.js";import"./chunk-EPNA6SYW.js";import"./chunk-ZLVJQ2UH.js";import"./chunk-SXXER37Y.js";import{a as zt}from"./chunk-SC72XGHO.js";import{c as Qt,g as Ut}from"./chunk-JUW7GNWS.js";import"./chunk-MS4AQ6UA.js";import{a as Vt,b as Lt}from"./chunk-DMZJ7K26.js";import{c as At}from"./chunk-7BCONPA6.js";import{a as jt,b as Rt,c as $t,d as Nt,f as Wt,g as Kt,h as Gt}from"./chunk-BRP3ETBH.js";import"./chunk-ZOXEDHNH.js";import{a as xt,c as yt,d as kt}from"./chunk-ZBUPANVT.js";import"./chunk-F5X5MWHG.js";import{a as Et,b as Dt}from"./chunk-WI2E4B7N.js";import"./chunk-CSWWTQFU.js";import{a as Bt}from"./chunk-IMDEVWQ5.js";import"./chunk-GOBT7UBB.js";import{a as Ct,b as Mt}from"./chunk-AZ2U4T3U.js";import"./chunk-SGYCFQGT.js";import"./chunk-2GVF4P32.js";import"./chunk-WFXXN3GR.js";import{a as ft,b as vt}from"./chunk-YC5WDUOT.js";import{c as Re,d as $e,g as Ne}from"./chunk-YMTLAEZG.js";import"./chunk-G7YPFBNB.js";import{a as Je,b as Xe,c as et,d as tt,e as it,f as nt,g as rt,h as at}from"./chunk-SNSQLCH6.js";import{b as lt,c as mt}from"./chunk-BXKJ5BTH.js";import"./chunk-3RK6DDJD.js";import{C as st,F as dt,G as ct,b as We,g as Ke,k as Ge,w as Qe,y as ot}from"./chunk-UJ3DDJ5Q.js";import{F as ee,H as he,Ja as bt,K as Ue,Ka as $,La as wt,Ma as ge,S as He,T as Ze,Y as qe,a as Ae,ca as Ye,ea as ue,fa as z,h as Ve,i as Le,j as ze,p as je,sa as pt,ua as ht,va as ut,wa as gt,xa as _t}from"./chunk-4WMI5X77.js";import{A as ye,Aa as Q,Ba as U,C as j,Cb as le,Cc as X,Db as g,Ea as H,Eb as B,Fb as P,G as ke,Ha as Se,I as Fe,Ib as W,J as ae,Ma as Oe,Nb as n,Ob as a,Pb as Z,Ra as ce,Tb as D,V as oe,X as x,Xb as _,Yb as v,Zb as A,_b as k,ac as K,bc as me,ca as Pe,cc as V,db as c,dc as L,ea as se,f as F,gc as Ie,ha as m,hb as Ee,hc as s,ib as E,ic as I,jc as w,kc as pe,mc as q,nc as Y,oc as J,pa as h,pb as S,q as re,qa as u,qb as De,qc as R,rc as Te,sc as Be,ta as G,tb as N,va as de,vb as y,x as xe}from"./chunk-B6672ACT.js";import"./chunk-X5YLR3NI.js";import{a as Ce,b as Me,g as ti,i as T}from"./chunk-ODN5LVDJ.js";var p=ti(ii());var ne=["*"],ai=["content"],oi=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],si=["mat-drawer","mat-drawer-content","*"];function di(r,b){if(r&1){let e=D();n(0,"div",1),_("click",function(){h(e);let i=v();return u(i._onBackdropClicked())}),a()}if(r&2){let e=v();P("mat-drawer-shown",e._isShowingBackdrop())}}function ci(r,b){r&1&&(n(0,"mat-drawer-content"),k(1,2),a())}var li=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],mi=["mat-sidenav","mat-sidenav-content","*"];function pi(r,b){if(r&1){let e=D();n(0,"div",1),_("click",function(){h(e);let i=v();return u(i._onBackdropClicked())}),a()}if(r&2){let e=v();P("mat-drawer-shown",e._isShowingBackdrop())}}function hi(r,b){r&1&&(n(0,"mat-sidenav-content"),k(1,2),a())}var ui=`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`;var gi=new se("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:_i}),ve=new se("MAT_DRAWER_CONTAINER");function _i(){return!1}var te=(()=>{class r extends ${_platform=m(ee);_changeDetectorRef=m(X);_container=m(fe);constructor(){let e=m(H),t=m(bt),i=m(U);super(e,t,i)}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}_shouldBeHidden(){if(this._platform.isBrowser)return!1;let{start:e,end:t}=this._container;return e!=null&&e.mode!=="over"&&e.opened||t!=null&&t.mode!=="over"&&t.opened}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=S({type:r,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:6,hostBindings:function(t,i){t&2&&(B("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px"),P("mat-drawer-content-hidden",i._shouldBeHidden()))},features:[R([{provide:$,useExisting:r}]),N],ngContentSelectors:ne,decls:1,vars:0,template:function(t,i){t&1&&(A(),k(0))},encapsulation:2,changeDetection:0})}return r})(),_e=(()=>{class r{_elementRef=m(H);_focusTrapFactory=m(Ze);_focusMonitor=m(Ue);_platform=m(ee);_ngZone=m(U);_renderer=m(Ee);_interactivityChecker=m(He);_doc=m(Ae,{optional:!0});_container=m(ve,{optional:!0});_focusTrap=null;_elementFocusedBeforeDrawerWasOpened=null;_eventCleanups;_isAttached;_anchor;get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}_position="start";get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}_mode="over";get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=z(e)}_disableClose=!1;get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=z(e)),this._autoFocus=e}_autoFocus;get opened(){return this._opened}set opened(e){this.toggle(z(e))}_opened=!1;_openedVia;_animationStarted=new F;_animationEnd=new F;openedChange=new Q(!0);_openedStream=this.openedChange.pipe(j(e=>e),re(()=>{}));openedStart=this._animationStarted.pipe(j(()=>this.opened),ae(void 0));_closedStream=this.openedChange.pipe(j(e=>!e),re(()=>{}));closedStart=this._animationStarted.pipe(j(()=>!this.opened),ae(void 0));_destroyed=new F;onPositionChanged=new Q;_content;_modeChanged=new F;_injector=m(de);_changeDetectorRef=m(X);constructor(){this.openedChange.pipe(x(this._destroyed)).subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{let e=this._elementRef.nativeElement;xe(e,"keydown").pipe(j(t=>t.keyCode===27&&!this.disableClose&&!qe(t)),x(this._destroyed)).subscribe(t=>this._ngZone.run(()=>{this.close(),t.stopPropagation(),t.preventDefault()})),this._eventCleanups=[this._renderer.listen(e,"transitionrun",this._handleTransitionEvent),this._renderer.listen(e,"transitionend",this._handleTransitionEvent),this._renderer.listen(e,"transitioncancel",this._handleTransitionEvent)]}),this._animationEnd.subscribe(()=>{this.openedChange.emit(this._opened)})}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),d(),e.removeAttribute("tabindex")},o=this._renderer.listen(e,"blur",i),d=this._renderer.listen(e,"mousedown",i)})),e.focus(t)}_focusByCssSelector(e,t){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,t)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":ce(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngOnDestroy(){this._eventCleanups.forEach(e=>e()),this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,t){e&&t&&(this._openedVia=t);let i=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),i}_setOpen(e,t,i){return e===this._opened?Promise.resolve(e?"open":"close"):(this._opened=e,this._container?._transitionsEnabled?this._setIsAnimating(!0):setTimeout(()=>{this._animationStarted.next(),this._animationEnd.next()}),this._elementRef.nativeElement.classList.toggle("mat-drawer-opened",e),!e&&t&&this._restoreFocus(i),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Fe(1)).subscribe(d=>o(d?"open":"close"))}))}_setIsAnimating(e){this._elementRef.nativeElement.classList.toggle("mat-drawer-animating",e)}_getWidth(){return this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let t=this._elementRef.nativeElement,i=t.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),i.insertBefore(this._anchor,t)),i.appendChild(t)):this._anchor&&this._anchor.parentNode.insertBefore(t,this._anchor)}_handleTransitionEvent=e=>{let t=this._elementRef.nativeElement;e.target===t&&this._ngZone.run(()=>{e.type==="transitionrun"?this._animationStarted.next(e):(e.type==="transitionend"&&this._setIsAnimating(!1),this._animationEnd.next(e))})};static \u0275fac=function(t){return new(t||r)};static \u0275cmp=S({type:r,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(t&1&&me(ai,5),t&2){let o;V(o=L())&&(i._content=o.first)}},hostAttrs:[1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){t&2&&(le("align",null)("tabIndex",i.mode!=="side"?"-1":null),B("visibility",!i._container&&!i.opened?"hidden":null),P("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side"))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ne,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){t&1&&(A(),n(0,"div",1,0),k(2),a())},dependencies:[$],encapsulation:2,changeDetection:0})}return r})(),fe=(()=>{class r{_dir=m(Ye,{optional:!0});_element=m(H);_ngZone=m(U);_changeDetectorRef=m(X);_animationMode=m(Oe,{optional:!0});_transitionsEnabled=!1;_allDrawers;_drawers=new Se;_content;_userContent;get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=z(e)}_autosize=m(gi);get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:z(e)}_backdropOverride;backdropClick=new Q;_start;_end;_left;_right;_destroyed=new F;_doCheckSubject=new F;_contentMargins={left:null,right:null};_contentMarginChanges=new F;get scrollable(){return this._userContent||this._content}_injector=m(de);constructor(){let e=m(ee),t=m(wt);this._dir?.change.pipe(x(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),t.change().pipe(x(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._animationMode!=="NoopAnimations"&&e.isBrowser&&this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{this._element.nativeElement.classList.add("mat-drawer-transition"),this._transitionsEnabled=!0},200)})}ngAfterContentInit(){this._allDrawers.changes.pipe(oe(this._allDrawers),x(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(t=>!t._container||t._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(oe(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(ke(10),x(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let i=this._left._getWidth();e+=i,t-=i}}if(this._right&&this._right.opened){if(this._right.mode=="side")t+=this._right._getWidth();else if(this._right.mode=="push"){let i=this._right._getWidth();t+=i,e-=i}}e=e||null,t=t||null,(e!==this._contentMargins.left||t!==this._contentMargins.right)&&(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(x(this._drawers.changes)).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(x(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e.onPositionChanged.pipe(x(this._drawers.changes)).subscribe(()=>{ce({read:()=>this._validateDrawers()},{injector:this._injector})})}_watchDrawerMode(e){e._modeChanged.pipe(x(ye(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let t=this._element.nativeElement.classList,i="mat-drawer-container-has-open";e?t.add(i):t.remove(i)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=S({type:r,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,o){if(t&1&&(K(o,te,5),K(o,_e,5)),t&2){let d;V(d=L())&&(i._content=d.first),V(d=L())&&(i._allDrawers=d)}},viewQuery:function(t,i){if(t&1&&me(te,5),t&2){let o;V(o=L())&&(i._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){t&2&&P("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[R([{provide:ve,useExisting:r}])],ngContentSelectors:si,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){t&1&&(A(oi),y(0,di,1,2,"div",0),k(1),k(2,1),y(3,ci,2,0,"mat-drawer-content")),t&2&&(W(i.hasBackdrop?0:-1),c(3),W(i._content?-1:3))},dependencies:[te],styles:[`.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-sys-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-sys-background));box-sizing:border-box;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color, color-mix(in srgb, var(--mat-sys-neutral-variant20) 40%, transparent))}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}@media(forced-colors: active){.mat-drawer-backdrop{opacity:.5}}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-content.mat-drawer-content-hidden{opacity:0}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-sys-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow, none);background-color:var(--mat-sidenav-container-background-color, var(--mat-sys-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));width:var(--mat-sidenav-container-width, 360px);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}@media(forced-colors: active){.mat-drawer,[dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}}@media(forced-colors: active){[dir=rtl] .mat-drawer,.mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-sys-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-transition .mat-drawer{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating){visibility:hidden;box-shadow:none}.mat-drawer:not(.mat-drawer-opened):not(.mat-drawer-animating) .mat-drawer-inner-container{display:none}.mat-drawer.mat-drawer-opened.mat-drawer-opened{transform:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color, transparent);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color, transparent);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto}.mat-sidenav-fixed{position:fixed}
`],encapsulation:2,changeDetection:0})}return r})(),ie=(()=>{class r extends te{static \u0275fac=(()=>{let e;return function(i){return(e||(e=G(r)))(i||r)}})();static \u0275cmp=S({type:r,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],features:[R([{provide:$,useExisting:r}]),N],ngContentSelectors:ne,decls:1,vars:0,template:function(t,i){t&1&&(A(),k(0))},encapsulation:2,changeDetection:0})}return r})(),be=(()=>{class r extends _e{get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=z(e)}_fixedInViewport=!1;get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=he(e)}_fixedTopGap=0;get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=he(e)}_fixedBottomGap=0;static \u0275fac=(()=>{let e;return function(i){return(e||(e=G(r)))(i||r)}})();static \u0275cmp=S({type:r,selectors:[["mat-sidenav"]],hostAttrs:[1,"mat-drawer","mat-sidenav"],hostVars:16,hostBindings:function(t,i){t&2&&(le("tabIndex",i.mode!=="side"?"-1":null)("align",null),B("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),P("mat-drawer-end",i.position==="end")("mat-drawer-over",i.mode==="over")("mat-drawer-push",i.mode==="push")("mat-drawer-side",i.mode==="side")("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[R([{provide:_e,useExisting:r}]),N],ngContentSelectors:ne,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(t,i){t&1&&(A(),n(0,"div",1,0),k(2),a())},dependencies:[$],encapsulation:2,changeDetection:0})}return r})(),Yt=(()=>{class r extends fe{_allDrawers=void 0;_content=void 0;static \u0275fac=(()=>{let e;return function(i){return(e||(e=G(r)))(i||r)}})();static \u0275cmp=S({type:r,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,o){if(t&1&&(K(o,ie,5),K(o,be,5)),t&2){let d;V(d=L())&&(i._content=d.first),V(d=L())&&(i._allDrawers=d)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){t&2&&P("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[R([{provide:ve,useExisting:r},{provide:fe,useExisting:r}]),N],ngContentSelectors:mi,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){t&1&&(A(li),y(0,pi,1,2,"div",0),k(1),k(2,1),y(3,hi,2,0,"mat-sidenav-content")),t&2&&(W(i.hasBackdrop?0:-1),c(3),W(i._content?-1:3))},dependencies:[ie],styles:[ui],encapsulation:2,changeDetection:0})}return r})(),Jt=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=De({type:r});static \u0275inj=Pe({imports:[ue,ge,ge,ue]})}return r})();var vi=()=>["/actividades"],bi=r=>({frente:r});function wi(r,b){r&1&&(n(0,"mat-chip",37)(1,"mat-icon"),s(2,"open_with"),a(),s(3," Modo Arrastrar "),a())}function Ci(r,b){if(r&1&&(n(0,"mat-option",38),s(1),a()),r&2){let e=b.$implicit;g("value",e.value),c(),w(" ",e.label," ")}}function Mi(r,b){if(r&1&&(n(0,"mat-option",38),s(1),a()),r&2){let e=b.$implicit;g("value",e.value),c(),w(" ",e.label," ")}}function xi(r,b){r&1&&(n(0,"div",39),Z(1,"mat-spinner",40),n(2,"p"),s(3,"Cargando frentes..."),a()())}function yi(r,b){if(r&1){let e=D();n(0,"mat-list-item",42),_("click",function(){let i=h(e).$implicit,o=v(2);return u(o.centerOnFrente(i))}),n(1,"div",43)(2,"mat-icon",44),s(3),a()(),n(4,"div",45),s(5),a(),n(6,"div",46)(7,"span",47),s(8),a(),n(9,"span",48),s(10),a()(),n(11,"div",49)(12,"span"),s(13),a(),n(14,"span"),s(15),a()(),n(16,"button",50),_("click",function(i){let o=h(e).$implicit;return v(2).centerOnFrente(o),u(i.stopPropagation())}),n(17,"mat-icon"),s(18,"my_location"),a()()()}if(r&2){let e=b.$implicit,t=v(2);P("selected",(t.selectedFrente==null?null:t.selectedFrente.id)===e.id),c(2),B("color",t.getFrenteIconColor(e.estado)),g("matBadge",t.getActividadesEnProgreso(e.id))("matBadgeHidden",t.getActividadesEnProgreso(e.id)===0),c(),w(" ",t.getFrenteIcon(e.estado)," "),c(2),I(e.nombre),c(2),g("ngClass","estado-"+e.estado),c(),w(" ",t.getEstadoLabel(e.estado)," "),c(2),pe("Lat: ",e.ubicacion_lat==null?null:e.ubicacion_lat.toFixed(4),", Lng: ",e.ubicacion_lng==null?null:e.ubicacion_lng.toFixed(4),""),c(3),w("Progreso: ",t.getProgresoPromedio(e.id).toFixed(1),"%"),c(2),w("",t.getActividadesByFrente(e.id).length," actividades")}}function ki(r,b){if(r&1&&(n(0,"mat-nav-list"),y(1,yi,19,14,"mat-list-item",41),a()),r&2){let e=v();c(),g("ngForOf",e.filteredFrente)}}function Fi(r,b){r&1&&(n(0,"div",51)(1,"mat-icon"),s(2,"location_off"),a(),n(3,"p"),s(4,"No se encontraron frentes con los filtros aplicados"),a()())}function Pi(r,b){r&1&&(n(0,"div",52),Z(1,"mat-spinner",53),n(2,"p"),s(3,"Cargando mapa..."),a()())}function Si(r,b){if(r&1){let e=D();n(0,"div",54)(1,"mat-card",55)(2,"mat-card-content")(3,"div",56)(4,"mat-icon",57),s(5,"add_location"),a(),n(6,"h3"),s(7,"Creando Nuevo Frente"),a(),n(8,"p"),s(9,"Haz clic en el mapa para seleccionar la ubicaci\xF3n del frente"),a(),n(10,"button",58),_("click",function(){h(e);let i=v();return u(i.cancelFrenteCreation())}),n(11,"mat-icon"),s(12,"cancel"),a(),s(13," Cancelar "),a()()()()()}}function Oi(r,b){if(r&1&&(n(0,"div",63)(1,"mat-icon"),s(2,"description"),a(),n(3,"span"),s(4),a()()),r&2){let e=v(2);c(4),I(e.selectedFrente.descripcion)}}function Ei(r,b){if(r&1){let e=D();n(0,"mat-card",59)(1,"mat-card-header")(2,"div",60)(3,"mat-icon"),s(4),a()(),n(5,"mat-card-title"),s(6),a(),n(7,"mat-card-subtitle")(8,"span",47),s(9),a()(),n(10,"button",61),_("click",function(){h(e);let i=v();return u(i.selectedFrente=null)}),n(11,"mat-icon"),s(12,"close"),a()()(),n(13,"mat-card-content")(14,"div",62)(15,"div",63)(16,"mat-icon"),s(17,"location_on"),a(),n(18,"span"),s(19),a()(),y(20,Oi,5,1,"div",64),n(21,"div",63)(22,"mat-icon"),s(23,"trending_up"),a(),n(24,"span"),s(25),a()()(),n(26,"div",65)(27,"h4"),s(28,"Actividades del Frente"),a(),n(29,"div",66)(30,"div",67)(31,"span",68),s(32),a(),n(33,"span",69),s(34,"Total"),a()(),n(35,"div",67)(36,"span",68),s(37),a(),n(38,"span",69),s(39,"En Progreso"),a()(),n(40,"div",67)(41,"span",68),s(42),a(),n(43,"span",69),s(44,"Completadas"),a()(),n(45,"div",67)(46,"span",68),s(47),a(),n(48,"span",69),s(49,"Progreso"),a()()()()(),n(50,"mat-card-actions")(51,"button",70)(52,"mat-icon"),s(53,"list"),a(),s(54," Ver Actividades "),a(),n(55,"button",71),_("click",function(){h(e);let i=v();return u(i.centerOnFrente(i.selectedFrente))}),n(56,"mat-icon"),s(57,"center_focus_strong"),a(),s(58," Centrar en Mapa "),a(),n(59,"button",72),_("click",function(){h(e);let i=v();return u(i.generateKilometrosForFrente(i.selectedFrente))}),n(60,"mat-icon"),s(61,"timeline"),a(),s(62," Generar Kil\xF3metros "),a(),n(63,"button",73),_("click",function(){h(e);let i=v();return u(i.editFrente(i.selectedFrente))}),n(64,"mat-icon"),s(65,"edit"),a(),s(66," Editar Frente "),a(),n(67,"button",74),_("click",function(){h(e);let i=v();return u(i.deleteFrente(i.selectedFrente))}),n(68,"mat-icon"),s(69,"delete"),a(),s(70," Eliminar "),a()()()}if(r&2){let e=v();c(3),B("color",e.getFrenteIconColor(e.selectedFrente.estado)),c(),w(" ",e.getFrenteIcon(e.selectedFrente.estado)," "),c(2),I(e.selectedFrente.nombre),c(2),g("ngClass","estado-"+e.selectedFrente.estado),c(),w(" ",e.getEstadoLabel(e.selectedFrente.estado)," "),c(10),pe("Ubicaci\xF3n: ",e.selectedFrente.ubicacion_lat==null?null:e.selectedFrente.ubicacion_lat.toFixed(6),", ",e.selectedFrente.ubicacion_lng==null?null:e.selectedFrente.ubicacion_lng.toFixed(6),""),c(),g("ngIf",e.selectedFrente.descripcion),c(5),w("Progreso General: ",e.getProgresoPromedio(e.selectedFrente.id).toFixed(1),"%"),c(7),I(e.getActividadesByFrente(e.selectedFrente.id).length),c(5),I(e.getActividadesEnProgreso(e.selectedFrente.id)),c(5),I(e.getActividadesCompletadas(e.selectedFrente.id)),c(5),w("",e.getProgresoPromedio(e.selectedFrente.id).toFixed(1),"%"),c(4),g("routerLink",Te(17,vi))("queryParams",Be(18,bi,e.selectedFrente.id)),c(8),g("disabled",!e.selectedFrente.km_inicial||!e.selectedFrente.km_final)}}var jn=(()=>{class r{constructor(e,t,i,o,d,l,f){this.mapService=e,this.actividadesService=t,this.authService=i,this.kilometrosService=o,this.snackBar=d,this.dialog=l,this.router=f,this.destroy$=new F,this.markers=new p.LayerGroup,this.kilometroLayers=new p.LayerGroup,this.loading=!0,this.sidenavOpened=!0,this.selectedFrente=null,this.isCreatingFrente=!1,this.tempMarker=null,this.isDragMode=!1,this.showKilometricView=!1,this.frentes=[],this.actividades=[],this.filteredFrente=[],this.kilometros=[],this.estadosConfig=[],this.estadoFilter="todos",this.tipoFilter="todos",this.searchTerm="",this.estadosFrente=[{value:"todos",label:"Todos los Estados"},{value:"activo",label:"Activo"},{value:"pausado",label:"Pausado"},{value:"completado",label:"Completado"},{value:"planificado",label:"Planificado"}],this.tiposActividad=[{value:"todos",label:"Todos los Tipos"},{value:"excavacion",label:"Excavaci\xF3n"},{value:"pavimentacion",label:"Pavimentaci\xF3n"},{value:"se\xF1alizacion",label:"Se\xF1alizaci\xF3n"},{value:"drenaje",label:"Drenaje"},{value:"puentes",label:"Puentes y Estructuras"},{value:"mantenimiento",label:"Mantenimiento"}]}ngOnInit(){this.loadData()}ngAfterViewInit(){this.initializeMap()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.map&&this.map.remove()}loadData(){return T(this,null,function*(){try{this.loading=!0,this.actividadesService.frentes$.pipe(x(this.destroy$)).subscribe(e=>{e.forEach(t=>{}),this.frentes=e,this.applyFilters(),this.updateMapMarkers()}),this.actividadesService.actividades$.pipe(x(this.destroy$)).subscribe(e=>{this.actividades=e,this.updateMapMarkers()}),yield this.actividadesService.refresh(),yield this.loadKilometricData()}catch{this.snackBar.open("Error al cargar los datos del mapa","Cerrar",{duration:5e3,panelClass:["error-snackbar"]})}finally{this.loading=!1}})}initializeMap(){let o=p.icon({iconRetinaUrl:"assets/marker-icon-2x.png",iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]});p.Marker.prototype.options.icon=o,this.map=p.map("map").setView([4.5709,-74.2973],6),p.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xA9 OpenStreetMap contributors",maxZoom:19}).addTo(this.map),this.markers.addTo(this.map),this.kilometroLayers.addTo(this.map),this.map.on("click",d=>{this.isCreatingFrente?this.handleMapClickForFrente(d):this.selectedFrente=null})}updateMapMarkers(){if(this.map&&(this.markers.clearLayers(),this.filteredFrente.forEach(e=>{if(e.ubicacion_lat&&e.ubicacion_lng){let t=this.isDragMode?this.createDraggableFrenteMarker(e):this.createFrenteMarker(e);this.markers.addLayer(t)}}),this.filteredFrente.length>0)){let e=new p.FeatureGroup(this.markers.getLayers());e.getBounds().isValid()&&this.map.fitBounds(e.getBounds(),{padding:[20,20]})}}createFrenteMarker(e){let i=this.actividades.filter(C=>C.frente_id===e.id).filter(C=>C.estado==="ejecucion").length,o=this.getFrenteIconColor(e.estado),d=p.divIcon({html:`
        <div class="custom-marker ${e.estado}">
          <mat-icon class="marker-icon">${this.getFrenteIcon(e.estado)}</mat-icon>
          ${i>0?`<span class="activity-badge">${i}</span>`:""}
        </div>
      `,className:"custom-div-icon",iconSize:[40,40],iconAnchor:[20,40]}),l=p.marker([e.ubicacion_lat,e.ubicacion_lng],{icon:d}),f=this.createFrentePopup(e);return l.bindPopup(f,{maxWidth:300}),l.on("click",()=>{this.selectedFrente=e,this.sidenavOpened=!0}),l}createFrentePopup(e){let t=this.getActividadesByFrente(e.id),i=t.filter(l=>l.estado==="finalizado").length,o=t.filter(l=>l.estado==="ejecucion").length,d=t.length>0?Math.round(i/t.length*100):0;return`
      <div class="frente-popup">
        <h3>${e.nombre}</h3>
        <p><strong>Estado:</strong> <span class="estado-${e.estado}">${this.getEstadoLabel(e.estado)}</span></p>
        <p><strong>Ubicaci\xF3n:</strong> ${e.ubicacion_lat?.toFixed(4)||"N/A"}, ${e.ubicacion_lng?.toFixed(4)||"N/A"}</p>
        <div class="actividades-summary">
          <h4>Actividades:</h4>
          <p>Total: ${t.length}</p>
          <p>En progreso: ${o}</p>
          <p>Completadas: ${i}</p>
          <p>Progreso promedio: ${d.toFixed(1)}%</p>
        </div>
        ${e.descripcion?`<p><strong>Descripci\xF3n:</strong> ${e.descripcion}</p>`:""}
      </div>
    `}getFrenteIconColor(e){return{activo:"#4caf50",pausado:"#ff9800",completado:"#2196f3",planificado:"#9e9e9e"}[e]||"#9e9e9e"}getFrenteIcon(e){return{activo:"construction",pausado:"pause_circle",completado:"check_circle",planificado:"schedule"}[e]||"location_on"}getFrenteMarkerIcon(e){let t=this.getFrenteIconColor(e);return p.divIcon({html:`
        <div class="custom-marker ${e}">
          <mat-icon class="marker-icon">${this.getFrenteIcon(e)}</mat-icon>
        </div>
      `,className:"custom-div-icon",iconSize:[40,40],iconAnchor:[20,40]})}getEstadoLabel(e){return{activo:"Activo",pausado:"Pausado",completado:"Completado",planificado:"Planificado"}[e]||e}applyFilters(){this.filteredFrente=this.frentes.filter(e=>{let t=this.estadoFilter==="todos"||e.estado===this.estadoFilter,i=!this.searchTerm||e.nombre.toLowerCase().includes(this.searchTerm.toLowerCase())||e.descripcion?.toLowerCase().includes(this.searchTerm.toLowerCase()),o=this.tipoFilter==="todos";return o||(o=this.actividades.filter(l=>l.frente_id===e.id).some(l=>l.tipo_actividad===this.tipoFilter)),t&&i&&o}),this.updateMapMarkers()}onEstadoFilterChange(){this.applyFilters()}onTipoFilterChange(){this.applyFilters()}onSearchChange(){this.applyFilters()}centerOnFrente(e){e.ubicacion_lat&&e.ubicacion_lng&&(this.map.setView([e.ubicacion_lat,e.ubicacion_lng],15),this.selectedFrente=e)}toggleSidenav(){this.sidenavOpened=!this.sidenavOpened}getActividadesByFrente(e){return this.actividades.filter(t=>t.frente_id===e)}getProgresoPromedio(e){let t=this.getActividadesByFrente(e);if(t.length===0)return 0;let i=t.filter(o=>o.estado==="finalizado").length;return Math.round(i/t.length*100)}getActividadesEnProgreso(e){return this.getActividadesByFrente(e).filter(t=>t.estado==="ejecucion").length}getActividadesCompletadas(e){return this.getActividadesByFrente(e).filter(t=>t.estado==="finalizado").length}getEstadoColor(e){return{activo:"primary",pausado:"warn",completado:"accent",planificado:""}[e]||""}refreshData(){this.loadData()}loadKilometricData(){return T(this,null,function*(){try{this.estadosConfig=(yield this.kilometrosService.getEstadosConfig().toPromise())||[],this.kilometros=[];for(let e of this.frentes){let t=(yield this.kilometrosService.getKilometrosByFrente(e.id).toPromise())||[];this.kilometros.push(...t)}this.showKilometricView&&this.updateKilometricVisualization()}catch{}})}toggleKilometricView(){return T(this,null,function*(){this.showKilometricView=!this.showKilometricView,this.showKilometricView?(yield this.loadKilometricData(),this.updateKilometricVisualization(),this.snackBar.open("Vista kilom\xE9trica activada - Datos actualizados","Cerrar",{duration:3e3,panelClass:["success-snackbar"]})):(this.kilometroLayers.clearLayers(),this.snackBar.open("Vista kilom\xE9trica desactivada","Cerrar",{duration:3e3,panelClass:["info-snackbar"]}))})}updateKilometricVisualization(){if(!this.map||!this.showKilometricView)return;this.kilometroLayers.clearLayers();let e=this.groupKilometrosByFrente();Object.entries(e).forEach(([t,i])=>{let o=this.frentes.find(d=>d.id===t);o&&o.coordenadas_inicio&&o.coordenadas_fin&&this.createKilometricRoute(o,i)})}groupKilometrosByFrente(){return this.kilometros.reduce((e,t)=>(e[t.frente_id]||(e[t.frente_id]=[]),e[t.frente_id].push(t),e),{})}createKilometricRoute(e,t){if(!e.coordenadas_inicio||!e.coordenadas_fin)return;let i=this.getRoutePoints(e),o=p.polyline(i,{color:"#cccccc",weight:8,opacity:.7});this.kilometroLayers.addLayer(o),t.sort((d,l)=>d.kilometro-l.kilometro).forEach((d,l)=>{let f=this.interpolateAlongCurve(e,d.kilometro);if(!f)return;let C=null;if(l<t.length-1?C=this.interpolateAlongCurve(e,t[l+1].kilometro):e.coordenadas_fin&&(C=[e.coordenadas_fin.lat,e.coordenadas_fin.lng]),C){let Xt=this.getSegmentPoints(e,d.kilometro,l<t.length-1?t[l+1].kilometro:e.km_final),we=p.polyline(Xt,{color:d.color,weight:6,opacity:.9}),ei=this.createKilometroPopup(d,e);we.bindPopup(ei),this.kilometroLayers.addLayer(we)}let M=p.circleMarker(f,{radius:8,fillColor:d.color,color:"#ffffff",weight:2,opacity:1,fillOpacity:.8}),O=this.createKilometroPopup(d,e);M.bindPopup(O),this.kilometroLayers.addLayer(M)}),e.coordenadas_intermedias&&e.coordenadas_intermedias.length>0&&e.coordenadas_intermedias.forEach((d,l)=>{let f=p.circleMarker([d.lat,d.lng],{radius:6,fillColor:"#ff9800",color:"#ffffff",weight:2,opacity:1,fillOpacity:.8});f.bindPopup(`
          <div class="control-point-popup">
            <h4>Punto de Control ${l+1}</h4>
            <p><strong>Kilometraje:</strong> ${d.kilometraje}</p>
            <p><strong>Coordenadas:</strong> ${d.lat.toFixed(6)}, ${d.lng.toFixed(6)}</p>
          </div>
        `),this.kilometroLayers.addLayer(f)})}getSegmentPoints(e,t,i){let o=[],d=this.getRoutePoints(e);if(!e.km_inicial||!e.km_final)return o;if(!e.coordenadas_intermedias||e.coordenadas_intermedias.length===0){let M=this.interpolateAlongCurve(e,t),O=this.interpolateAlongCurve(e,i);return M&&O&&o.push(M,O),o}let l=[];e.coordenadas_inicio&&e.km_inicial&&l.push({lat:e.coordenadas_inicio.lat,lng:e.coordenadas_inicio.lng,kilometraje:e.km_inicial}),l.push(...e.coordenadas_intermedias),e.coordenadas_fin&&e.km_final&&l.push({lat:e.coordenadas_fin.lat,lng:e.coordenadas_fin.lng,kilometraje:e.km_final}),l.sort((M,O)=>M.kilometraje-O.kilometraje);let f=this.interpolateAlongCurve(e,t);f&&o.push(f),l.forEach(M=>{M.kilometraje>t&&M.kilometraje<i&&o.push([M.lat,M.lng])});let C=this.interpolateAlongCurve(e,i);return C&&o.push(C),o}interpolatePoint(e,t,i){let o=e[0]+(t[0]-e[0])*i,d=e[1]+(t[1]-e[1])*i;return[o,d]}interpolateAlongCurve(e,t){if(!e.coordenadas_inicio||!e.coordenadas_fin||!e.km_inicial||!e.km_final)return null;let i=[];i.push({lat:e.coordenadas_inicio.lat,lng:e.coordenadas_inicio.lng,kilometraje:e.km_inicial}),e.coordenadas_intermedias&&e.coordenadas_intermedias.length>0&&i.push(...e.coordenadas_intermedias),i.push({lat:e.coordenadas_fin.lat,lng:e.coordenadas_fin.lng,kilometraje:e.km_final}),i.sort((l,f)=>l.kilometraje-f.kilometraje);for(let l=0;l<i.length-1;l++){let f=i[l],C=i[l+1];if(t>=f.kilometraje&&t<=C.kilometraje){let M=C.kilometraje-f.kilometraje,O=M>0?(t-f.kilometraje)/M:0;return this.interpolatePoint([f.lat,f.lng],[C.lat,C.lng],O)}}let o=e.km_final-e.km_inicial,d=o>0?(t-e.km_inicial)/o:0;return this.interpolatePoint([e.coordenadas_inicio.lat,e.coordenadas_inicio.lng],[e.coordenadas_fin.lat,e.coordenadas_fin.lng],d)}getRoutePoints(e){if(!e.coordenadas_inicio||!e.coordenadas_fin)return[];let t=[];return t.push([e.coordenadas_inicio.lat,e.coordenadas_inicio.lng]),e.coordenadas_intermedias&&e.coordenadas_intermedias.length>0&&[...e.coordenadas_intermedias].sort((o,d)=>o.kilometraje-d.kilometraje).forEach(o=>{t.push([o.lat,o.lng])}),t.push([e.coordenadas_fin.lat,e.coordenadas_fin.lng]),t}createKilometroPopup(e,t){return`
      <div class="kilometro-popup">
        <h4>Kil\xF3metro ${e.kilometro}</h4>
        <p><strong>Frente:</strong> ${t.nombre}</p>
        <p><strong>Estado:</strong> <span style="color: ${e.color}">${e.estado}</span></p>
        <p><strong>Progreso:</strong> ${e.progreso_porcentaje}%</p>
        <p><strong>Actividades:</strong> ${e.actividades_count}</p>
        <p><strong>\xDAltima actualizaci\xF3n:</strong> ${new Date(e.fecha_ultima_actualizacion).toLocaleDateString()}</p>
      </div>
    `}generateKilometrosForFrente(e){return T(this,null,function*(){if(!e.km_inicial||!e.km_final){this.snackBar.open("El frente debe tener rangos kilom\xE9tricos definidos","Cerrar",{duration:5e3,panelClass:["error-snackbar"]});return}try{yield this.kilometrosService.generateKilometrosForFrente(e.id,e.km_inicial,e.km_final).toPromise(),this.snackBar.open("Kil\xF3metros generados exitosamente","Cerrar",{duration:3e3,panelClass:["success-snackbar"]}),yield this.loadKilometricData()}catch{this.snackBar.open("Error al generar kil\xF3metros","Cerrar",{duration:5e3,panelClass:["error-snackbar"]})}})}startCreatingFrente(){this.isCreatingFrente=!0,this.snackBar.open("Haz clic en el mapa para seleccionar la ubicaci\xF3n del frente","Cancelar",{duration:0,panelClass:["info-snackbar"]}).onAction().subscribe(()=>{this.cancelFrenteCreation()})}cancelFrenteCreation(){this.isCreatingFrente=!1,this.tempMarker&&(this.map.removeLayer(this.tempMarker),this.tempMarker=null),this.snackBar.dismiss()}handleMapClickForFrente(e){let{lat:t,lng:i}=e.latlng;this.tempMarker&&this.map.removeLayer(this.tempMarker),this.tempMarker=p.marker([t,i],{icon:p.divIcon({html:`
          <div class="temp-marker">
            <mat-icon class="marker-icon">add_location</mat-icon>
          </div>
        `,className:"temp-div-icon",iconSize:[40,40],iconAnchor:[20,40]})}).addTo(this.map),this.openFrenteForm("create",{lat:t,lng:i})}openFrenteForm(e,t,i){let o={mode:e,frente:i,initialCoordinates:t};this.dialog.open(Zt,{width:"600px",maxWidth:"90vw",data:o,disableClose:!0}).afterClosed().subscribe(l=>{l&&this.refreshData(),e==="create"&&this.cancelFrenteCreation()})}editFrente(e){this.openFrenteForm("edit",void 0,e)}deleteFrente(e){return T(this,null,function*(){if(confirm(`\xBFEst\xE1s seguro de que deseas eliminar el frente "${e.nombre}"?`))try{yield this.actividadesService.deleteFrente(e.id),this.snackBar.open("Frente eliminado exitosamente","Cerrar",{duration:3e3,panelClass:["success-snackbar"]}),this.refreshData(),this.selectedFrente?.id===e.id&&(this.selectedFrente=null)}catch{this.snackBar.open("Error al eliminar el frente","Cerrar",{duration:5e3,panelClass:["error-snackbar"]})}})}createDraggableFrenteMarker(e){let t=p.marker([e.ubicacion_lat,e.ubicacion_lng],{icon:this.getFrenteMarkerIcon(e.estado),draggable:!0});return t.bindPopup(this.createFrentePopup(e)),t.on("dragend",i=>T(this,null,function*(){let o=i.target.getLatLng();try{yield this.actividadesService.updateFrenteLocation(e.id,o.lat,o.lng),this.snackBar.open("Ubicaci\xF3n del frente actualizada","Cerrar",{duration:3e3,panelClass:["success-snackbar"]});let d=this.frentes.findIndex(l=>l.id===e.id);d!==-1&&(this.frentes[d]=Me(Ce({},this.frentes[d]),{ubicacion_lat:o.lat,ubicacion_lng:o.lng}),this.applyFilters())}catch{this.snackBar.open("Error al actualizar la ubicaci\xF3n","Cerrar",{duration:5e3,panelClass:["error-snackbar"]}),t.setLatLng([e.ubicacion_lat,e.ubicacion_lng])}})),t}toggleDragMode(){this.isDragMode=!this.isDragMode;let e=this.isDragMode?"Modo arrastrar activado - Puedes mover los frentes arrastrando los marcadores":"Modo arrastrar desactivado";this.snackBar.open(e,"Cerrar",{duration:3e3,panelClass:["info-snackbar"]}),this.updateMapMarkers()}navigateToCreateFrente(){this.router.navigate(["/frentes/nuevo"])}navigateToEditFrente(e){this.router.navigate(["/frentes",e,"editar"])}navigateToFrentesManagement(){this.router.navigate(["/frentes"])}static{this.\u0275fac=function(t){return new(t||r)(E(Ht),E(Bt),E(zt),E(qt),E(Ct),E(Qt),E(Re))}}static{this.\u0275cmp=S({type:r,selectors:[["app-mapa"]],decls:80,vars:25,consts:[["frenteMenu","matMenu"],["sidenav",""],[1,"mapa-container"],[1,"toolbar-card"],[1,"toolbar-content"],[1,"toolbar-left"],["mat-icon-button","","matTooltip","Alternar panel de filtros",3,"click"],[1,"page-title"],[1,"toolbar-right"],["mat-raised-button","","matTooltip","Alternar vista kilom\xE9trica",3,"click","color","disabled"],["mat-raised-button","","color","primary","matTooltip","Crear nuevo frente",3,"click","disabled"],["mat-icon-button","","matTooltip","Opciones de frentes",3,"matMenuTriggerFor","disabled"],["mat-menu-item","",3,"click"],[3,"color"],["color","accent","selected","",4,"ngIf"],[1,"main-container"],[1,"sidenav-container"],["mode","side",1,"filters-sidenav",3,"opened"],[1,"sidenav-content"],[1,"sidenav-header"],["mat-icon-button","",3,"click"],[1,"filters-section"],["appearance","outline",1,"full-width"],["matInput","","placeholder","Nombre o descripci\xF3n",3,"ngModelChange","input","ngModel"],["matSuffix",""],[3,"valueChange","selectionChange","value"],[3,"value",4,"ngFor","ngForOf"],[1,"frentes-section"],["class","loading-container",4,"ngIf"],[4,"ngIf"],["class","no-results",4,"ngIf"],[1,"map-content"],[1,"map-container"],["id","map",1,"leaflet-map"],["class","map-loading-overlay",4,"ngIf"],["class","creating-frente-overlay",4,"ngIf"],["class","frente-info-card",4,"ngIf"],["color","accent","selected",""],[3,"value"],[1,"loading-container"],["diameter","40"],["class","frente-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"frente-item",3,"click"],["matListItemAvatar",""],["matBadgeColor","accent","matBadgeSize","small",3,"matBadge","matBadgeHidden"],["matListItemTitle",""],["matListItemLine",""],[1,"estado-chip",3,"ngClass"],[1,"ubicacion"],["matListItemLine","",1,"progress-info"],["mat-icon-button","","matListItemMeta","",3,"click"],[1,"no-results"],[1,"map-loading-overlay"],["diameter","60"],[1,"creating-frente-overlay"],[1,"creating-frente-card"],[1,"creating-frente-content"],["color","primary"],["mat-raised-button","","color","warn",3,"click"],[1,"frente-info-card"],["mat-card-avatar",""],["mat-icon-button","",1,"close-button",3,"click"],[1,"frente-details"],[1,"detail-row"],["class","detail-row",4,"ngIf"],[1,"actividades-stats"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],["mat-button","","color","primary",3,"routerLink","queryParams"],["mat-button","",3,"click"],["mat-button","","color","accent","matTooltip","Generar kil\xF3metros para este frente",3,"click","disabled"],["mat-button","","color","accent",3,"click"],["mat-button","","color","warn",3,"click"]],template:function(t,i){if(t&1){let o=D();n(0,"div",2)(1,"mat-card",3)(2,"mat-card-content")(3,"div",4)(4,"div",5)(5,"button",6),_("click",function(){return h(o),u(i.toggleSidenav())}),n(6,"mat-icon"),s(7,"menu"),a()(),n(8,"h2",7),s(9,"Mapa Interactivo de Frentes"),a()(),n(10,"div",8)(11,"button",9),_("click",function(){return h(o),u(i.toggleKilometricView())}),n(12,"mat-icon"),s(13),a(),s(14),a(),n(15,"button",10),_("click",function(){return h(o),u(i.startCreatingFrente())}),n(16,"mat-icon"),s(17,"add_location"),a(),s(18),a(),n(19,"button",11)(20,"mat-icon"),s(21,"more_vert"),a()(),n(22,"mat-menu",null,0)(24,"button",12),_("click",function(){return h(o),u(i.toggleDragMode())}),n(25,"mat-icon",13),s(26,"open_with"),a(),n(27,"span"),s(28),a()(),n(29,"button",12),_("click",function(){return h(o),u(i.refreshData())}),n(30,"mat-icon"),s(31,"refresh"),a(),n(32,"span"),s(33,"Actualizar Datos"),a()()(),n(34,"mat-chip-set")(35,"mat-chip"),s(36),a(),y(37,wi,4,0,"mat-chip",14),a()()()()(),n(38,"div",15)(39,"mat-sidenav-container",16)(40,"mat-sidenav",17,1)(42,"div",18)(43,"div",19)(44,"h3"),s(45,"Filtros y Frentes"),a(),n(46,"button",20),_("click",function(){return h(o),u(i.toggleSidenav())}),n(47,"mat-icon"),s(48,"close"),a()()(),n(49,"div",21)(50,"h4"),s(51,"Filtros"),a(),n(52,"mat-form-field",22)(53,"mat-label"),s(54,"Buscar frente"),a(),n(55,"input",23),J("ngModelChange",function(l){return h(o),Y(i.searchTerm,l)||(i.searchTerm=l),u(l)}),_("input",function(){return h(o),u(i.onSearchChange())}),a(),n(56,"mat-icon",24),s(57,"search"),a()(),n(58,"mat-form-field",22)(59,"mat-label"),s(60,"Estado"),a(),n(61,"mat-select",25),J("valueChange",function(l){return h(o),Y(i.estadoFilter,l)||(i.estadoFilter=l),u(l)}),_("selectionChange",function(){return h(o),u(i.onEstadoFilterChange())}),y(62,Ci,2,2,"mat-option",26),a()(),n(63,"mat-form-field",22)(64,"mat-label"),s(65,"Tipo de Actividad"),a(),n(66,"mat-select",25),J("valueChange",function(l){return h(o),Y(i.tipoFilter,l)||(i.tipoFilter=l),u(l)}),_("selectionChange",function(){return h(o),u(i.onTipoFilterChange())}),y(67,Mi,2,2,"mat-option",26),a()()(),n(68,"div",27)(69,"h4"),s(70),a(),y(71,xi,4,0,"div",28)(72,ki,2,1,"mat-nav-list",29)(73,Fi,5,0,"div",30),a()()(),n(74,"mat-sidenav-content",31)(75,"div",32),Z(76,"div",33),y(77,Pi,4,0,"div",34)(78,Si,14,0,"div",35),a(),y(79,Ei,71,20,"mat-card",36),a()()()()}if(t&2){let o=Ie(23);c(11),g("color",i.showKilometricView?"accent":"basic")("disabled",i.loading),c(2),I(i.showKilometricView?"route":"timeline"),c(),w(" ",i.showKilometricView?"Vista Normal":"Vista Kilom\xE9trica"," "),c(),g("disabled",i.loading||i.isCreatingFrente),c(3),w(" ",i.isCreatingFrente?"Selecciona ubicaci\xF3n...":"Crear Frente"," "),c(),g("matMenuTriggerFor",o)("disabled",i.loading),c(6),g("color",i.isDragMode?"accent":""),c(3),w("",i.isDragMode?"Desactivar":"Activar"," Modo Arrastrar"),c(8),w("",i.filteredFrente.length," frentes"),c(),g("ngIf",i.isDragMode),c(3),g("opened",i.sidenavOpened),c(15),q("ngModel",i.searchTerm),c(6),q("value",i.estadoFilter),c(),g("ngForOf",i.estadosFrente),c(4),q("value",i.tipoFilter),c(),g("ngForOf",i.tiposActividad),c(3),w("Frentes (",i.filteredFrente.length,")"),c(),g("ngIf",i.loading),c(),g("ngIf",!i.loading),c(),g("ngIf",!i.loading&&i.filteredFrente.length===0),c(4),g("ngIf",i.loading),c(),g("ngIf",i.isCreatingFrente),c(),g("ngIf",i.selectedFrente)}},dependencies:[je,Ve,Le,ze,Qe,We,Ke,Ge,Ne,$e,at,Je,it,rt,et,nt,tt,Xe,ut,ht,pt,_t,gt,Jt,be,Yt,ie,Gt,Kt,Wt,Nt,Rt,jt,$t,ct,dt,ot,st,Lt,Vt,At,mt,lt,kt,xt,yt,Tt,It,Dt,Et,vt,ft,Mt,Ut,Ot,Pt,Ft,St],styles:[".mapa-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;background-color:#fafafa}.toolbar-card[_ngcontent-%COMP%]{margin:0;border-radius:0;box-shadow:0 2px 4px #0000001a;z-index:1000}.toolbar-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:8px 0}.toolbar-left[_ngcontent-%COMP%], .toolbar-right[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.page-title[_ngcontent-%COMP%]{margin:0;font-size:1.5rem;font-weight:500;color:#333}.main-container[_ngcontent-%COMP%]{flex:1;overflow:hidden}.sidenav-container[_ngcontent-%COMP%]{height:100%}.filters-sidenav[_ngcontent-%COMP%]{width:350px;border-right:1px solid #e0e0e0;background-color:#fff}.sidenav-content[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column;overflow:hidden}.sidenav-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px;border-bottom:1px solid #e0e0e0;background-color:#1976d2;color:#fff}.sidenav-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;font-weight:500}.sidenav-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}.filters-section[_ngcontent-%COMP%]{padding:16px;border-bottom:1px solid #e0e0e0}.filters-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 16px;font-size:1rem;font-weight:500;color:#333}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:16px}.frentes-section[_ngcontent-%COMP%]{flex:1;overflow:hidden;display:flex;flex-direction:column}.frentes-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;padding:16px 16px 8px;font-size:1rem;font-weight:500;color:#333}.frentes-section[_ngcontent-%COMP%]   mat-nav-list[_ngcontent-%COMP%]{flex:1;overflow-y:auto}.frente-item[_ngcontent-%COMP%]{border-bottom:1px solid #e0e0e0;cursor:pointer;transition:background-color .2s ease}.frente-item[_ngcontent-%COMP%]:hover{background-color:#0000000a}.frente-item.selected[_ngcontent-%COMP%]{background-color:#1976d21f;border-left:4px solid #1976d2}.estado-chip[_ngcontent-%COMP%]{display:inline-block;padding:2px 8px;border-radius:12px;font-size:.75rem;font-weight:500;text-transform:uppercase;margin-right:8px}.estado-activo[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32}.estado-pausado[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.estado-completado[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.estado-planificado[_ngcontent-%COMP%]{background-color:#f5f5f5;color:#616161}.kilometraje[_ngcontent-%COMP%]{font-size:.875rem;color:#666}.progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.75rem;color:#666;margin-top:4px}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;text-align:center}.loading-container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#666}.no-results[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:32px;text-align:center;color:#666}.no-results[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:48px;width:48px;height:48px;margin-bottom:16px;opacity:.5}.map-content[_ngcontent-%COMP%]{position:relative;height:100%}.map-container[_ngcontent-%COMP%]{position:relative;height:100%;width:100%}.leaflet-map[_ngcontent-%COMP%]{height:100%;width:100%;z-index:1}.map-loading-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#fffc;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000}.map-loading-overlay[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:16px;color:#666}.frente-info-card[_ngcontent-%COMP%]{position:absolute;top:16px;right:16px;width:320px;max-height:calc(100vh - 200px);overflow-y:auto;z-index:1000;box-shadow:0 4px 12px #00000026}.frente-info-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{position:relative}.close-button[_ngcontent-%COMP%]{position:absolute;top:8px;right:8px}.frente-details[_ngcontent-%COMP%]{margin-bottom:16px}.detail-row[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px;margin-bottom:8px;font-size:.875rem}.detail-row[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px;width:18px;height:18px;color:#666;margin-top:2px}.actividades-stats[_ngcontent-%COMP%]{border-top:1px solid #e0e0e0;padding-top:16px}.actividades-stats[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 12px;font-size:1rem;font-weight:500}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}.stat-item[_ngcontent-%COMP%]{text-align:center;padding:12px;background-color:#f5f5f5;border-radius:8px}.stat-number[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:600;color:#1976d2}.stat-label[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:#666;margin-top:4px}[_nghost-%COMP%]     .custom-div-icon{background:transparent;border:none}[_nghost-%COMP%]     .custom-marker{position:relative;width:40px;height:40px;background-color:#fff;border:3px solid #1976d2;border-radius:50%;display:flex;align-items:center;justify-content:center;box-shadow:0 2px 8px #0000004d;transition:transform .2s ease}[_nghost-%COMP%]     .custom-marker:hover{transform:scale(1.1)}[_nghost-%COMP%]     .custom-marker.activo{border-color:#4caf50}[_nghost-%COMP%]     .custom-marker.pausado{border-color:#ff9800}[_nghost-%COMP%]     .custom-marker.completado{border-color:#2196f3}[_nghost-%COMP%]     .custom-marker.planificado{border-color:#9e9e9e}[_nghost-%COMP%]     .marker-icon{font-size:20px;color:#333}[_nghost-%COMP%]     .activity-badge{position:absolute;top:-8px;right:-8px;background-color:#f44336;color:#fff;border-radius:50%;width:20px;height:20px;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;border:2px solid white}[_nghost-%COMP%]     .leaflet-popup-content{margin:8px 12px;line-height:1.4}[_nghost-%COMP%]     .frente-popup h3{margin:0 0 8px;color:#1976d2}[_nghost-%COMP%]     .frente-popup p{margin:4px 0;font-size:.875rem}[_nghost-%COMP%]     .actividades-summary{background-color:#f5f5f5;padding:8px;border-radius:4px;margin:8px 0}[_nghost-%COMP%]     .actividades-summary h4{margin:0 0 4px;font-size:.875rem}[_nghost-%COMP%]     .actividades-summary p{margin:2px 0;font-size:.75rem}.creating-frente-overlay[_ngcontent-%COMP%]{position:absolute;top:20px;left:50%;transform:translate(-50%);z-index:1000;pointer-events:none}.creating-frente-card[_ngcontent-%COMP%]{pointer-events:all;box-shadow:0 4px 12px #00000026;border-radius:8px}.creating-frente-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;gap:12px}.creating-frente-content[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:2rem;width:2rem;height:2rem}.creating-frente-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.1rem;font-weight:500}.creating-frente-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:.9rem}.toolbar-right[_ngcontent-%COMP%]   button[mat-raised-button][_ngcontent-%COMP%]{margin-right:8px}.toolbar-right[_ngcontent-%COMP%]   mat-menu[_ngcontent-%COMP%]{margin-top:8px}.frente-info-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:8px;padding:16px}.frente-info-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{flex:1;min-width:120px}.temp-marker[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.7}to{transform:scale(1);opacity:1}}@media (max-width: 768px){.filters-sidenav[_ngcontent-%COMP%]{width:100%}.toolbar-content[_ngcontent-%COMP%]{flex-direction:column;gap:8px;align-items:stretch}.toolbar-left[_ngcontent-%COMP%], .toolbar-right[_ngcontent-%COMP%]{justify-content:center}.toolbar-right[_ngcontent-%COMP%]{flex-wrap:wrap}.frente-info-card[_ngcontent-%COMP%]{position:relative;bottom:auto;right:auto;width:100%;margin:8px}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.creating-frente-overlay[_ngcontent-%COMP%]{left:10px;right:10px;transform:none}.frente-info-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{flex-direction:column}.frente-info-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.page-title[_ngcontent-%COMP%]{font-size:1.25rem}}@media (max-width: 480px){.filters-sidenav[_ngcontent-%COMP%]{width:100vw}.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr);gap:8px}.stat-item[_ngcontent-%COMP%]{padding:8px 4px}.stat-number[_ngcontent-%COMP%]{font-size:1.25rem}}@media (prefers-color-scheme: dark){.mapa-container[_ngcontent-%COMP%]{background-color:#121212}.toolbar-card[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.filters-sidenav[_ngcontent-%COMP%]{background-color:#1e1e1e;border-right-color:#333}.sidenav-header[_ngcontent-%COMP%]{background-color:#1976d2;border-bottom-color:#333}.filters-section[_ngcontent-%COMP%], .frente-item[_ngcontent-%COMP%]{border-bottom-color:#333}.frente-item[_ngcontent-%COMP%]:hover{background-color:#ffffff14}.frente-info-card[_ngcontent-%COMP%]{background-color:#1e1e1e;color:#fff}.actividades-stats[_ngcontent-%COMP%]{border-top-color:#333}.stat-item[_ngcontent-%COMP%]{background-color:#2a2a2a}[_nghost-%COMP%]     .custom-marker{background-color:#1e1e1e}[_nghost-%COMP%]     .marker-icon{color:#fff}}@media (prefers-contrast: high){.estado-chip[_ngcontent-%COMP%]{border:2px solid currentColor}.frente-item.selected[_ngcontent-%COMP%]{border-left-width:6px}[_nghost-%COMP%]     .custom-marker{border-width:4px}}.frente-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.frente-info-card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .3s ease-out}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.frente-item[_ngcontent-%COMP%]:focus{outline:2px solid #1976d2;outline-offset:2px}button[_ngcontent-%COMP%]:focus{outline:2px solid #1976d2;outline-offset:2px}@media (prefers-reduced-motion: reduce){.frente-item[_ngcontent-%COMP%], .frente-info-card[_ngcontent-%COMP%], [_nghost-%COMP%]     .custom-marker{animation:none;transition:none}[_nghost-%COMP%]     .custom-marker:hover{transform:none}}"]})}}return r})();export{jn as MapaComponent};
