import{a as at}from"./chunk-YGZXOJW2.js";import{a as je}from"./chunk-CHCMV5LZ.js";import{a as $e,b as Re,c as Be,d as He,e as Le,f as Ge,g as Ye,h as Qe,i as Ue,j as We,k as Je,l as Xe}from"./chunk-GRKQO4VX.js";import{a as qe,b as Ve}from"./chunk-VL2NEHIJ.js";import{a as Ke,b as Te}from"./chunk-7ORSVDA5.js";import{a as me,b as pe,c as ue,d as _e,f as fe,h as ge}from"./chunk-Q7IKAR2H.js";import{a as Ze,b as et,c as tt,d as it}from"./chunk-UZ4WZDEA.js";import{b as nt}from"./chunk-FPI72KVE.js";import"./chunk-S62OKC6W.js";import"./chunk-MS4AQ6UA.js";import{a as ze,b as Ae}from"./chunk-4WQTEZOQ.js";import{c as Ne}from"./chunk-T4G463S7.js";import"./chunk-ZBAF6PQQ.js";import"./chunk-4SALBWPR.js";import"./chunk-SGFNFZY3.js";import{a as Fe,b as De}from"./chunk-ZJYJPMQY.js";import{b as Me,c as Pe}from"./chunk-5ME2OED7.js";import{A as Ce,B as he,C as be,F as Ee,G as Se,b as Z,d as _,g as ee,h as te,l as ie,m as ne,n as ae,q as oe,r as re,s as le,t as de,v as ce,x as se,y as xe,z as ve}from"./chunk-GGGSXGOB.js";import{h as G,i as Y,j as Q,m as U,n as W,o as J,p as X,pa as ye,ra as we,sa as Oe,ta as Ie,ua as ke}from"./chunk-MD4YSZKI.js";import{Db as c,Mb as n,Nb as t,Ob as f,Pb as v,Qb as C,Sb as y,Wb as E,Xb as u,db as d,fc as k,gc as a,hc as S,ib as P,ic as x,jc as B,pa as h,pb as R,qa as b,rc as H,tc as w,uc as L,vb as m,vc as K,wc as T}from"./chunk-OYRL5FJJ.js";import"./chunk-X5YLR3NI.js";import{i as M}from"./chunk-ODN5LVDJ.js";var rt=i=>({"general-kpi":i});function lt(i,l){if(i&1&&(n(0,"mat-option",49),a(1),t()),i&2){let e=l.$implicit;c("value",e.id),d(),x(" ",e.nombre," ")}}function dt(i,l){i&1&&(n(0,"mat-error"),a(1," La obra es requerida "),t())}function ct(i,l){if(i&1&&(n(0,"mat-option",49),a(1),t()),i&2){let e=l.$implicit;c("value",e.id),d(),B(" ",e.tipo_actividad," - ",e.ubicacion," ")}}function st(i,l){i&1&&(n(0,"mat-error"),a(1," La fecha es requerida "),t())}function mt(i,l){i&1&&(n(0,"mat-error"),a(1," El avance f\xEDsico es requerido "),t())}function pt(i,l){i&1&&(n(0,"mat-error"),a(1," Debe estar entre 0 y 100 "),t())}function ut(i,l){i&1&&(n(0,"mat-error"),a(1," La productividad es requerida "),t())}function _t(i,l){i&1&&(n(0,"mat-error"),a(1," Debe ser mayor a 0 "),t())}function ft(i,l){i&1&&(n(0,"mat-error"),a(1," El personal asignado es requerido "),t())}function gt(i,l){i&1&&(n(0,"mat-error"),a(1," La calidad es requerida "),t())}function xt(i,l){i&1&&(n(0,"mat-error"),a(1," Debe estar entre 0 y 100 "),t())}function vt(i,l){i&1&&(n(0,"mat-error"),a(1," La desviaci\xF3n del cronograma es requerida "),t())}function Ct(i,l){i&1&&(n(0,"mat-error"),a(1," El costo ejecutado es requerido "),t())}function ht(i,l){i&1&&(n(0,"mat-error"),a(1," El costo presupuestado es requerido "),t())}function bt(i,l){i&1&&(n(0,"mat-icon"),a(1,"save"),t())}function Et(i,l){i&1&&f(0,"mat-spinner",50)}function St(i,l){i&1&&(n(0,"span"),a(1,"Guardando..."),t())}function Mt(i,l){if(i&1&&(n(0,"span"),a(1),t()),i&2){let e=u();d(),S(e.editingKpi?"Actualizar KPI":"Crear KPI")}}function Pt(i,l){if(i&1){let e=y();n(0,"button",51),E("click",function(){h(e);let r=u();return b(r.resetForm())}),n(1,"mat-icon"),a(2,"cancel"),t(),a(3," Cancelar "),t()}if(i&2){let e=u();c("disabled",e.loading)}}function yt(i,l){if(i&1){let e=y();n(0,"div",52)(1,"mat-form-field",53)(2,"mat-label"),a(3,"Buscar KPIs"),t(),n(4,"input",54),E("keyup",function(r){h(e);let s=u();return b(s.applyFilter(r))}),t(),n(5,"mat-icon",55),a(6,"search"),t()(),n(7,"mat-form-field",56)(8,"mat-label"),a(9,"Filtrar por Estado"),t(),n(10,"mat-select",57),E("selectionChange",function(r){h(e);let s=u();return b(s.filterByStatus(r.value))}),n(11,"mat-option",15),a(12,"Todos"),t(),n(13,"mat-option",19),a(14,"Activo"),t(),n(15,"mat-option",20),a(16,"En Revisi\xF3n"),t(),n(17,"mat-option",21),a(18,"Aprobado"),t()()()()}}function wt(i,l){i&1&&(n(0,"th",78),a(1,"Obra"),t())}function Ot(i,l){if(i&1&&(n(0,"td",79),a(1),t()),i&2){let e=l.$implicit,o=u(3);d(),S(o.getObraNombre(e.obra_id))}}function It(i,l){i&1&&(n(0,"th",78),a(1,"Actividad"),t())}function kt(i,l){if(i&1&&(n(0,"td",79)(1,"span",80)(2,"mat-icon"),a(3),t(),a(4),t()()),i&2){let e=l.$implicit,o=u(3);d(),c("ngClass",H(3,rt,!e.actividad_id)),d(2),S(e.actividad_id?"construction":"dashboard"),d(),x(" ",o.getActividadNombre(e.actividad_id)," ")}}function Kt(i,l){i&1&&(n(0,"th",78),a(1,"Fecha"),t())}function Tt(i,l){if(i&1&&(n(0,"td",79),a(1),w(2,"date"),t()),i&2){let e=l.$implicit;d(),S(K(2,1,e.fecha,"dd/MM/yyyy"))}}function Ft(i,l){i&1&&(n(0,"th",78),a(1,"Estado"),t())}function Dt(i,l){if(i&1&&(n(0,"td",79)(1,"span",81)(2,"mat-icon"),a(3),t(),a(4),w(5,"titlecase"),t()()),i&2){let e=l.$implicit,o=u(3);d(),c("ngClass","status-"+e.estado),d(2),S(o.getStatusIcon(e.estado)),d(),x(" ",L(5,3,e.estado)," ")}}function qt(i,l){i&1&&(n(0,"th",78),a(1,"Avance F\xEDsico"),t())}function Vt(i,l){if(i&1&&(n(0,"td",79)(1,"div",82)(2,"span",83),a(3),t(),f(4,"mat-progress-bar",84),t()()),i&2){let e=l.$implicit,o=u(3);d(3),x("",e.avance_fisico,"%"),d(),c("value",e.avance_fisico)("color",o.getProgressColor(e.avance_fisico))}}function jt(i,l){i&1&&(n(0,"th",78),a(1,"Productividad"),t())}function Nt(i,l){if(i&1&&(n(0,"td",79)(1,"span",85),a(2),t()()),i&2){let e=l.$implicit,o=u(3);d(),c("ngClass",o.getMetricClass(e.productividad,80)),d(),x(" ",e.productividad,"% ")}}function zt(i,l){i&1&&(n(0,"th",78),a(1,"Calidad"),t())}function At(i,l){if(i&1&&(n(0,"td",79)(1,"span",85),a(2),t()()),i&2){let e=l.$implicit,o=u(3);d(),c("ngClass",o.getMetricClass(e.calidad,85)),d(),x(" ",e.calidad,"% ")}}function $t(i,l){i&1&&(n(0,"th",78),a(1,"Personal"),t())}function Rt(i,l){if(i&1&&(n(0,"td",79)(1,"span",86)(2,"mat-icon"),a(3,"people"),t(),a(4),t()()),i&2){let e=l.$implicit;d(4),x(" ",e.personal_asignado," ")}}function Bt(i,l){i&1&&(n(0,"th",87),a(1,"Costos"),t())}function Ht(i,l){if(i&1&&(n(0,"td",79)(1,"div",88)(2,"div",89),a(3),w(4,"number"),t(),n(5,"div",90),a(6),w(7,"number"),t(),n(8,"div",91),a(9),t()()()),i&2){let e=l.$implicit,o=u(3);d(3),x("$",K(4,4,e.costo_ejecutado,"1.0-0"),""),d(3),x("$",K(7,7,e.costo_presupuestado,"1.0-0"),""),d(2),c("ngClass",o.getCostVarianceClass(e.costo_ejecutado,e.costo_presupuestado)),d(),x(" ",o.getCostVariancePercent(e.costo_ejecutado,e.costo_presupuestado),"% ")}}function Lt(i,l){i&1&&(n(0,"th",78),a(1,"Cronograma"),t())}function Gt(i,l){if(i&1&&(n(0,"td",79)(1,"span",92)(2,"mat-icon"),a(3),t(),a(4),t()()),i&2){let e=l.$implicit,o=u(3);d(),c("ngClass",o.getScheduleClass(e.desviacion_cronograma)),d(2),S(o.getScheduleIcon(e.desviacion_cronograma)),d(),x(" ",e.desviacion_cronograma," d\xEDas ")}}function Yt(i,l){i&1&&(n(0,"th",78),a(1,"Seguridad"),t())}function Qt(i,l){if(i&1&&(n(0,"td",79)(1,"span",93)(2,"mat-icon"),a(3),t(),a(4),t()()),i&2){let e=l.$implicit,o=u(3);d(),c("ngClass",o.getSafetyClass(e.incidentes_seguridad)),d(2),S(o.getSafetyIcon(e.incidentes_seguridad)),d(),x(" ",e.incidentes_seguridad||0," ")}}function Ut(i,l){i&1&&(n(0,"th",87),a(1,"Acciones"),t())}function Wt(i,l){if(i&1){let e=y();n(0,"td",79)(1,"div",94)(2,"button",95),E("click",function(){let r=h(e).$implicit,s=u(3);return b(s.editKpi(r))}),n(3,"mat-icon"),a(4,"edit"),t()(),n(5,"button",96),E("click",function(){let r=h(e).$implicit,s=u(3);return b(s.viewDetails(r))}),n(6,"mat-icon"),a(7,"visibility"),t()(),n(8,"button",97),E("click",function(){let r=h(e).$implicit,s=u(3);return b(s.deleteKpi(r))}),n(9,"mat-icon"),a(10,"delete"),t()()()()}if(i&2){let e=u(3);d(2),c("disabled",e.loading),d(3),c("disabled",e.loading),d(3),c("disabled",e.loading)}}function Jt(i,l){i&1&&f(0,"tr",98)}function Xt(i,l){i&1&&f(0,"tr",99)}function Zt(i,l){if(i&1&&(n(0,"table",60),v(1,61),m(2,wt,2,0,"th",62)(3,Ot,2,1,"td",63),C(),v(4,64),m(5,It,2,0,"th",62)(6,kt,5,5,"td",63),C(),v(7,65),m(8,Kt,2,0,"th",62)(9,Tt,3,4,"td",63),C(),v(10,66),m(11,Ft,2,0,"th",62)(12,Dt,6,5,"td",63),C(),v(13,67),m(14,qt,2,0,"th",62)(15,Vt,5,3,"td",63),C(),v(16,68),m(17,jt,2,0,"th",62)(18,Nt,3,2,"td",63),C(),v(19,69),m(20,zt,2,0,"th",62)(21,At,3,2,"td",63),C(),v(22,70),m(23,$t,2,0,"th",62)(24,Rt,5,1,"td",63),C(),v(25,71),m(26,Bt,2,0,"th",72)(27,Ht,10,10,"td",63),C(),v(28,73),m(29,Lt,2,0,"th",62)(30,Gt,5,3,"td",63),C(),v(31,74),m(32,Yt,2,0,"th",62)(33,Qt,5,3,"td",63),C(),v(34,75),m(35,Ut,2,0,"th",72)(36,Wt,11,3,"td",63),C(),m(37,Jt,1,0,"tr",76)(38,Xt,1,0,"tr",77),t()),i&2){let e=u(2);c("dataSource",e.dataSource),d(37),c("matHeaderRowDef",e.displayedColumns),d(),c("matRowDefColumns",e.displayedColumns)}}function ei(i,l){i&1&&(n(0,"div",100)(1,"mat-icon"),a(2,"analytics"),t(),n(3,"h3"),a(4,"No hay KPIs registrados"),t(),n(5,"p"),a(6,"Comience creando su primer KPI para monitorear el rendimiento"),t()())}function ti(i,l){if(i&1&&(n(0,"div",58),m(1,Zt,39,3,"table",59)(2,ei,7,0,"ng-template",null,2,T),t()),i&2){let e=k(3),o=u();d(),c("ngIf",o.kpis.length>0)("ngIfElse",e)}}function ii(i,l){i&1&&(n(0,"div",101),f(1,"mat-spinner",102),t())}var Di=(()=>{class i{constructor(e,o,r,s){this.fb=e,this.kpisService=o,this.obrasService=r,this.snackBar=s,this.kpis=[],this.obras=[],this.actividades=[],this.loading=!1,this.submitting=!1,this.editingKpi=null,this.displayedColumns=["obra","actividad","fecha","estado","avance_fisico","productividad","calidad","personal_asignado","costos","desviacion_cronograma","incidentes_seguridad","actions"],this.dataSource=new Xe(this.kpis),this.initializeForm()}initializeForm(){this.kpiForm=this.fb.group({obra_id:["",_.required],actividad_id:[{value:"",disabled:!0}],fecha:[new Date,_.required],estado:["activo",_.required],avance_fisico:[0,[_.required,_.min(0),_.max(100)]],productividad:[0,[_.required,_.min(0)]],personal_asignado:[0,[_.required,_.min(0)]],maquinaria_utilizada:[""],calidad:[0,[_.required,_.min(0),_.max(100)]],incidentes_seguridad:[0,[_.min(0)]],clima_condiciones:[""],desviacion_cronograma:[0,[_.required]],costo_ejecutado:[0,[_.required,_.min(0)]],costo_presupuestado:[0,[_.required,_.min(0)]],observaciones_tecnicas:[""],metricas_adicionales:[""]})}ngOnInit(){this.loadObras(),this.setupKpisSubscription()}setupKpisSubscription(){this.loading=!0,this.kpisService.kpis$.subscribe({next:e=>{this.kpis=e,this.dataSource.data=this.kpis,this.loading=!1},error:e=>{console.error("Error loading KPIs:",e),this.showMessage("Error al cargar los KPIs"),this.loading=!1}})}loadObras(){this.obrasService.obras$.subscribe({next:e=>{this.obras=e},error:e=>{console.error("Error loading obras:",e),this.showMessage("Error al cargar las obras")}})}onObraChange(e){return M(this,null,function*(){if(e)try{this.actividades=yield this.kpisService.getActividadesByObra(e),this.kpiForm.get("actividad_id")?.enable(),this.kpiForm.patchValue({actividad_id:""})}catch(o){console.error("Error loading actividades:",o),this.showMessage("Error al cargar las actividades"),this.actividades=[],this.kpiForm.get("actividad_id")?.disable()}else this.actividades=[],this.kpiForm.get("actividad_id")?.disable(),this.kpiForm.patchValue({actividad_id:""})})}loadKpis(){this.loading=!0}onSubmit(){return M(this,null,function*(){if(this.kpiForm.valid&&!this.submitting)try{this.loading=!0,this.submitting=!0;let e=this.kpiForm.getRawValue();if(!this.editingKpi&&(console.log("Verificando duplicados para:",e),yield this.checkForDuplicateKPI(e))){console.log("KPI duplicado detectado"),this.showMessage("Ya existe un KPI para esta obra/actividad en la fecha seleccionada"),this.loading=!1,this.submitting=!1;return}let o={obra_id:e.obra_id,actividad_id:e.actividad_id||null,fecha:e.fecha instanceof Date?e.fecha.toISOString().split("T")[0]:e.fecha,avance_fisico:e.avance_fisico,productividad:e.productividad,calidad:e.calidad,desviacion_cronograma:e.desviacion_cronograma,costo_ejecutado:e.costo_ejecutado,costo_presupuestado:e.costo_presupuestado,personal_asignado:e.personal_asignado,maquinaria_utilizada:e.maquinaria_utilizada,incidentes_seguridad:e.incidentes_seguridad,clima_condiciones:e.clima_condiciones,observaciones_tecnicas:e.observaciones_tecnicas,estado:e.estado,metricas_adicionales:e.metricas_adicionales?{notas:e.metricas_adicionales}:null};this.editingKpi&&this.editingKpi.id?(yield this.kpisService.updateKPI(this.editingKpi.id,o),this.showMessage("KPI actualizado exitosamente")):(yield this.kpisService.createKPI(o),this.showMessage("KPI creado exitosamente")),this.resetForm()}catch(e){console.error("Error saving KPI:",e);let o="Error al guardar el KPI";e?.message&&(e.message.includes("duplicate key")||e.message.includes("unique constraint")?o="Ya existe un KPI para esta obra/actividad en la fecha seleccionada":e.message.includes("permission denied")?o="No tiene permisos para crear/actualizar KPIs en esta obra":o=`Error: ${e.message}`),this.showMessage(o)}finally{this.loading=!1,this.submitting=!1}else this.submitting&&console.log("Env\xEDo ya en progreso, ignorando clic adicional")})}editKpi(e){return M(this,null,function*(){this.editingKpi=e,e.obra_id?yield this.onObraChange(e.obra_id):this.kpiForm.get("actividad_id")?.disable(),this.kpiForm.patchValue({obra_id:e.obra_id,actividad_id:e.actividad_id||"",fecha:new Date(e.fecha),estado:e.estado||"activo",avance_fisico:e.avance_fisico||0,productividad:e.productividad||0,personal_asignado:e.personal_asignado||0,maquinaria_utilizada:e.maquinaria_utilizada||"",calidad:e.calidad||0,incidentes_seguridad:e.incidentes_seguridad||0,clima_condiciones:e.clima_condiciones||"",desviacion_cronograma:e.desviacion_cronograma||0,costo_ejecutado:e.costo_ejecutado||0,costo_presupuestado:e.costo_presupuestado||0,observaciones_tecnicas:e.observaciones_tecnicas||"",metricas_adicionales:e.metricas_adicionales?.notas||""})})}deleteKpi(e){return M(this,null,function*(){if(confirm("\xBFEst\xE1 seguro de que desea eliminar este KPI?"))try{this.loading=!0,e.id?(console.log("Intentando eliminar KPI:",e.id),yield this.kpisService.deleteKPI(e.id),this.showMessage("KPI eliminado exitosamente")):this.showMessage("Error: KPI sin ID v\xE1lido")}catch(o){console.error("Error deleting KPI:",o);let r="Error al eliminar el KPI";o?.message&&(o.message.includes("permission denied")||o.message.includes("RLS")?r="No tiene permisos para eliminar este KPI. Verifique que est\xE9 asignado a la obra correspondiente.":o.message.includes("foreign key")||o.message.includes("constraint")?r="No se puede eliminar el KPI porque tiene registros relacionados.":o.message.includes("not found")?r="El KPI ya no existe o fue eliminado previamente.":r=`Error: ${o.message}`),this.showMessage(r)}finally{this.loading=!1}})}resetForm(){this.editingKpi=null,this.actividades=[],this.kpiForm.reset({obra_id:"",actividad_id:"",fecha:new Date,avance_fisico:0,productividad:0,calidad:0,desviacion_cronograma:0,metricas_adicionales:""}),this.kpiForm.get("actividad_id")?.disable()}checkForDuplicateKPI(e){return M(this,null,function*(){try{let o=e.fecha instanceof Date?e.fecha.toISOString().split("T")[0]:e.fecha;console.log("Verificando duplicados - Fecha:",o,"Obra:",e.obra_id,"Actividad:",e.actividad_id);let r=this.kpis.filter(s=>{let p=new Date(s.fecha).toISOString().split("T")[0];if(!e.actividad_id&&!s.actividad_id){let g=s.obra_id===e.obra_id&&p===o;return g&&console.log("Duplicado encontrado (obra):",s),g}if(e.actividad_id&&s.actividad_id){let g=s.obra_id===e.obra_id&&s.actividad_id===e.actividad_id&&p===o;return g&&console.log("Duplicado encontrado (actividad):",s),g}return!1});return console.log("KPIs existentes encontrados:",r.length),r.length>0}catch(o){return console.error("Error checking for duplicate KPI:",o),!1}})}calculateOverallValue(e){let o={avance_fisico:.3,productividad:.3,calidad:.4};return Math.round(e.avance_fisico*o.avance_fisico+e.productividad*o.productividad+e.calidad*o.calidad)}showMessage(e){this.snackBar.open(e,"Cerrar",{duration:3e3,horizontalPosition:"right",verticalPosition:"top"})}getObraNombre(e){let o=this.obras.find(r=>r.id===e);return o?o.nombre:"Obra no encontrada"}getActividadNombre(e){if(!e)return"KPI General";let o=this.actividades.find(r=>r.id===e);return o?`${o.tipo_actividad} - ${o.ubicacion}`:"Actividad no encontrada"}getStatusIcon(e){switch(e){case"activo":return"play_circle";case"revision":return"pending";case"aprobado":return"check_circle";default:return"help"}}getProgressColor(e){return e>=80?"primary":e>=60?"accent":"warn"}getMetricClass(e,o){return e>=o?"metric-good":e>=o*.7?"metric-warning":"metric-poor"}getCostVariancePercent(e,o){return o?Math.round((e-o)/o*100):0}getCostVarianceClass(e,o){let r=this.getCostVariancePercent(e,o);return r<=5?"cost-good":r<=15?"cost-warning":"cost-over"}getScheduleClass(e){return e<=0?"schedule-good":e<=5?"schedule-warning":"schedule-delayed"}getScheduleIcon(e){return e<=0?"schedule":e<=5?"schedule_send":"warning"}getSafetyClass(e){return e===0?"safety-good":e<=2?"safety-warning":"safety-critical"}getSafetyIcon(e){return e===0?"verified_user":e<=2?"warning":"dangerous"}applyFilter(e){let o=e.target.value;this.dataSource.filter=o.trim().toLowerCase()}filterByStatus(e){e?this.dataSource.data=this.kpis.filter(o=>o.estado===e):this.dataSource.data=this.kpis}viewDetails(e){console.log("Ver detalles de KPI:",e)}calculateProductivitySuggestion(e,o){let r=e/o,s=100/30;return r>=s?"Excelente ritmo de trabajo. Mantener el rendimiento actual.":r>=s*.8?"Ritmo adecuado. Considerar optimizar procesos para mejorar.":"Ritmo bajo. Revisar recursos y planificaci\xF3n urgentemente."}calculateCostProjection(e,o,r){if(o===0)return{proyeccion:r,varianza:0,alerta:!1};let s=e/o*100,p=(s-r)/r*100,g=p>10;return{proyeccion:Math.round(s),varianza:Math.round(p),alerta:g,mensaje:g?"Riesgo de sobrecosto detectado":"Costos dentro del rango esperado"}}calculateQualityIndex(e,o){let r=e;o>0&&(r-=o*10),r=Math.max(0,Math.min(100,r));let s="Excelente",p="#4caf50";return r<60?(s="Deficiente",p="#f44336"):r<80?(s="Regular",p="#ff9800"):r<90&&(s="Bueno",p="#2196f3"),{indice:r,categoria:s,color:p}}getWeatherImpactSuggestion(e){switch(e?.toLowerCase()){case"lluvia":return"Considerar actividades bajo techo. Revisar drenajes y protecciones.";case"viento fuerte":return"Suspender trabajos en altura. Asegurar materiales y equipos.";case"calor extremo":return"Programar descansos frecuentes. Hidrataci\xF3n constante del personal.";case"frio":return"Verificar equipos de calefacci\xF3n. Ajustar horarios de trabajo.";default:return"Condiciones favorables para el trabajo normal."}}calculateResourceOptimization(e,o){let r=o/e,s="",p="";return r>5?(s="Excelente eficiencia del personal",p="Mantener el equipo actual"):r>3?(s="Eficiencia adecuada",p="Considerar capacitaci\xF3n adicional"):(s="Baja eficiencia detectada",p="Revisar asignaci\xF3n de tareas y capacidades"),{eficiencia:Math.round(r*100)/100,sugerencia:s,accion:p}}applyAutomaticCalculations(){let e=this.kpiForm.value;if(e.avance_fisico&&e.personal_asignado){let o=this.calculateResourceOptimization(e.personal_asignado,e.avance_fisico);this.kpiForm.patchValue({observaciones_tecnicas:`${e.observaciones_tecnicas||""}

Sugerencias autom\xE1ticas:
- Eficiencia personal: ${o.eficiencia}%
- ${o.sugerencia}
- Acci\xF3n recomendada: ${o.accion}`})}if(e.costo_ejecutado&&e.avance_fisico&&e.costo_presupuestado){let o=this.calculateCostProjection(e.costo_ejecutado,e.avance_fisico,e.costo_presupuestado);o.alerta&&console.warn("Alerta de costo:",o.mensaje)}}static{this.\u0275fac=function(o){return new(o||i)(P(ce),P(je),P(at),P(Fe))}}static{this.\u0275cmp=R({type:i,selectors:[["app-kpis"]],decls:201,vars:28,consts:[["picker",""],["loadingTemplate",""],["noDataTemplate",""],[1,"kpis-container"],[1,"header"],[1,"form-card"],[1,"kpi-form",3,"ngSubmit","formGroup"],[1,"form-section"],[1,"section-title"],[1,"form-row"],["appearance","outline"],["formControlName","obra_id","required","",3,"selectionChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["formControlName","actividad_id"],["value",""],["matInput","","formControlName","fecha","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["formControlName","estado","required",""],["value","activo"],["value","revision"],["value","aprobado"],["matInput","","type","number","formControlName","avance_fisico","min","0","max","100","required",""],["matInput","","type","number","formControlName","productividad","min","0","required",""],["matInput","","type","number","formControlName","personal_asignado","min","0","required",""],["matInput","","formControlName","maquinaria_utilizada","rows","2","placeholder","Ej: Excavadora CAT 320, Volqueta 10m\xB3, Compactadora..."],["matInput","","type","number","formControlName","calidad","min","0","max","100","required",""],["matInput","","type","number","formControlName","incidentes_seguridad","min","0"],["formControlName","clima_condiciones"],["value","soleado"],["value","nublado"],["value","lluvioso"],["value","ventoso"],["value","adverso"],["matInput","","type","number","formControlName","desviacion_cronograma","required",""],["matInput","","type","number","formControlName","costo_ejecutado","min","0","required",""],["matPrefix",""],["matInput","","type","number","formControlName","costo_presupuestado","min","0","required",""],[1,"form-row","full-width"],["matInput","","formControlName","observaciones_tecnicas","rows","3","placeholder","Describa aspectos t\xE9cnicos relevantes, dificultades encontradas, soluciones implementadas..."],["matInput","","formControlName","metricas_adicionales","rows","2","placeholder","Informaci\xF3n adicional, m\xE9tricas especiales, comentarios generales..."],[1,"form-actions"],["type","button","mat-raised-button","","color","accent",3,"click","disabled"],["mat-raised-button","","color","primary","type","button",3,"click","disabled"],["diameter","20","style","display: inline-block; margin-right: 8px;",4,"ngIf"],["mat-button","","type","button",3,"disabled","click",4,"ngIf"],[1,"table-card"],["class","table-filters",4,"ngIf"],["class","table-container",4,"ngIf","ngIfElse"],[3,"value"],["diameter","20",2,"display","inline-block","margin-right","8px"],["mat-button","","type","button",3,"click","disabled"],[1,"table-filters"],["appearance","outline",1,"search-field"],["matInput","","placeholder","Buscar por obra, fecha...",3,"keyup"],["matSuffix",""],["appearance","outline",1,"filter-field"],[3,"selectionChange"],[1,"table-container"],["mat-table","","class","kpi-table","matSort","",3,"dataSource",4,"ngIf","ngIfElse"],["mat-table","","matSort","",1,"kpi-table",3,"dataSource"],["matColumnDef","obra"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","actividad"],["matColumnDef","fecha"],["matColumnDef","estado"],["matColumnDef","avance_fisico"],["matColumnDef","productividad"],["matColumnDef","calidad"],["matColumnDef","personal_asignado"],["matColumnDef","costos"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","desviacion_cronograma"],["matColumnDef","incidentes_seguridad"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","kpi-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"actividad-info",3,"ngClass"],[1,"status-badge",3,"ngClass"],[1,"progress-cell"],[1,"progress-text"],["mode","determinate",3,"value","color"],[1,"metric-value",3,"ngClass"],[1,"personnel-count"],["mat-header-cell",""],[1,"cost-info"],[1,"cost-executed"],[1,"cost-budget"],[1,"cost-variance",3,"ngClass"],[1,"schedule-deviation",3,"ngClass"],[1,"safety-incidents",3,"ngClass"],[1,"action-buttons"],["mat-icon-button","","color","primary","matTooltip","Editar KPI",3,"click","disabled"],["mat-icon-button","","color","accent","matTooltip","Ver Detalles",3,"click","disabled"],["mat-icon-button","","color","warn","matTooltip","Eliminar KPI",3,"click","disabled"],["mat-header-row",""],["mat-row","",1,"kpi-row"],[1,"no-data"],[1,"loading-spinner"],["diameter","50"]],template:function(o,r){if(o&1){let s=y();n(0,"div",3)(1,"div",4)(2,"h1"),a(3,"Gesti\xF3n de KPIs"),t(),n(4,"p"),a(5,"Ingrese los datos de rendimiento que alimentar\xE1n los gr\xE1ficos del dashboard"),t()(),n(6,"mat-card",5)(7,"mat-card-header")(8,"mat-card-title")(9,"mat-icon"),a(10,"analytics"),t(),a(11),t(),n(12,"mat-card-subtitle"),a(13,"Complete todos los campos para un registro detallado del rendimiento"),t()(),n(14,"mat-card-content")(15,"form",6),E("ngSubmit",function(g){return h(s),b(g.preventDefault())}),n(16,"div",7)(17,"h3",8)(18,"mat-icon"),a(19,"info"),t(),a(20," Informaci\xF3n General "),t(),n(21,"div",9)(22,"mat-form-field",10)(23,"mat-label"),a(24,"Obra"),t(),n(25,"mat-select",11),E("selectionChange",function(g){return h(s),b(r.onObraChange(g.value))}),m(26,lt,2,2,"mat-option",12),t(),m(27,dt,2,0,"mat-error",13),t(),n(28,"mat-form-field",10)(29,"mat-label"),a(30,"Actividad (Opcional)"),t(),n(31,"mat-select",14)(32,"mat-option",15),a(33,"-- Sin actividad espec\xEDfica --"),t(),m(34,ct,2,3,"mat-option",12),t(),n(35,"mat-hint"),a(36,"Seleccione una actividad espec\xEDfica o deje vac\xEDo para KPI general de la obra"),t()(),n(37,"mat-form-field",10)(38,"mat-label"),a(39,"Fecha"),t(),f(40,"input",16)(41,"mat-datepicker-toggle",17)(42,"mat-datepicker",null,0),m(44,st,2,0,"mat-error",13),t(),n(45,"mat-form-field",10)(46,"mat-label"),a(47,"Estado"),t(),n(48,"mat-select",18)(49,"mat-option",19),a(50,"Activo"),t(),n(51,"mat-option",20),a(52,"En Revisi\xF3n"),t(),n(53,"mat-option",21),a(54,"Aprobado"),t()()()()(),n(55,"div",7)(56,"h3",8)(57,"mat-icon"),a(58,"trending_up"),t(),a(59," M\xE9tricas de Rendimiento "),t(),n(60,"div",9)(61,"mat-form-field",10)(62,"mat-label"),a(63,"Avance F\xEDsico (%)"),t(),f(64,"input",22),n(65,"mat-hint"),a(66,"Porcentaje de avance f\xEDsico de la obra"),t(),m(67,mt,2,0,"mat-error",13)(68,pt,2,0,"mat-error",13),t(),n(69,"mat-form-field",10)(70,"mat-label"),a(71,"Productividad (%)"),t(),f(72,"input",23),n(73,"mat-hint"),a(74,"Eficiencia del equipo de trabajo"),t(),m(75,ut,2,0,"mat-error",13)(76,_t,2,0,"mat-error",13),t()(),n(77,"div",9)(78,"mat-form-field",10)(79,"mat-label"),a(80,"Personal Asignado"),t(),f(81,"input",24),n(82,"mat-hint"),a(83,"N\xFAmero de trabajadores asignados"),t(),m(84,ft,2,0,"mat-error",13),t(),n(85,"mat-form-field",10)(86,"mat-label"),a(87,"Maquinaria Utilizada"),t(),f(88,"textarea",25),n(89,"mat-hint"),a(90,"Descripci\xF3n de equipos y maquinaria"),t()()()(),n(91,"div",7)(92,"h3",8)(93,"mat-icon"),a(94,"security"),t(),a(95," Calidad y Seguridad "),t(),n(96,"div",9)(97,"mat-form-field",10)(98,"mat-label"),a(99,"Calidad (%)"),t(),f(100,"input",26),n(101,"mat-hint"),a(102,"\xCDndice de calidad de los trabajos ejecutados"),t(),m(103,gt,2,0,"mat-error",13)(104,xt,2,0,"mat-error",13),t(),n(105,"mat-form-field",10)(106,"mat-label"),a(107,"Incidentes de Seguridad"),t(),f(108,"input",27),n(109,"mat-hint"),a(110,"N\xFAmero de incidentes reportados"),t()(),n(111,"mat-form-field",10)(112,"mat-label"),a(113,"Condiciones Clim\xE1ticas"),t(),n(114,"mat-select",28)(115,"mat-option",29),a(116,"Soleado"),t(),n(117,"mat-option",30),a(118,"Nublado"),t(),n(119,"mat-option",31),a(120,"Lluvioso"),t(),n(121,"mat-option",32),a(122,"Ventoso"),t(),n(123,"mat-option",33),a(124,"Adverso"),t()(),n(125,"mat-hint"),a(126,"Condiciones durante el per\xEDodo"),t()()()(),n(127,"div",7)(128,"h3",8)(129,"mat-icon"),a(130,"schedule"),t(),a(131," Cronograma y Costos "),t(),n(132,"div",9)(133,"mat-form-field",10)(134,"mat-label"),a(135,"Desviaci\xF3n Cronograma (d\xEDas)"),t(),f(136,"input",34),n(137,"mat-hint"),a(138,"Valores negativos = adelanto, positivos = retraso"),t(),m(139,vt,2,0,"mat-error",13),t(),n(140,"mat-form-field",10)(141,"mat-label"),a(142,"Costo Ejecutado"),t(),f(143,"input",35),n(144,"span",36),a(145,"$ \xA0"),t(),n(146,"mat-hint"),a(147,"Costo real ejecutado hasta la fecha"),t(),m(148,Ct,2,0,"mat-error",13),t(),n(149,"mat-form-field",10)(150,"mat-label"),a(151,"Costo Presupuestado"),t(),f(152,"input",37),n(153,"span",36),a(154,"$ \xA0"),t(),n(155,"mat-hint"),a(156,"Costo presupuestado para el per\xEDodo"),t(),m(157,ht,2,0,"mat-error",13),t()()(),n(158,"div",7)(159,"h3",8)(160,"mat-icon"),a(161,"note"),t(),a(162," Observaciones y Notas "),t(),n(163,"div",38)(164,"mat-form-field",10)(165,"mat-label"),a(166,"Observaciones T\xE9cnicas"),t(),f(167,"textarea",39),n(168,"mat-hint"),a(169,"Informaci\xF3n t\xE9cnica detallada del per\xEDodo"),t()()(),n(170,"div",38)(171,"mat-form-field",10)(172,"mat-label"),a(173,"M\xE9tricas Adicionales"),t(),f(174,"textarea",40),n(175,"mat-hint"),a(176,"Informaci\xF3n complementaria opcional"),t()()()(),n(177,"div",41)(178,"button",42),E("click",function(){return h(s),b(r.applyAutomaticCalculations())}),n(179,"mat-icon"),a(180,"auto_fix_high"),t(),a(181," Calcular Sugerencias "),t(),n(182,"button",43),E("click",function(){return h(s),b(r.onSubmit())}),m(183,bt,2,0,"mat-icon",13)(184,Et,1,0,"mat-spinner",44)(185,St,2,0,"span",13)(186,Mt,2,1,"span",13),t(),m(187,Pt,4,1,"button",45),t()()()(),n(188,"mat-card",46)(189,"mat-card-header")(190,"mat-card-title")(191,"mat-icon"),a(192,"table_chart"),t(),a(193," KPIs Registrados "),t(),n(194,"mat-card-subtitle"),a(195,"Visualizaci\xF3n detallada de todos los indicadores de rendimiento"),t()(),n(196,"mat-card-content"),m(197,yt,19,0,"div",47)(198,ti,4,2,"div",48)(199,ii,2,0,"ng-template",null,1,T),t()()()}if(o&2){let s,p,g,O,F,D,q,V,I,j,N,z,A,$=k(43),ot=k(200);d(11),x(" ",r.editingKpi?"Editar KPI":"Nuevo KPI"," "),d(4),c("formGroup",r.kpiForm),d(11),c("ngForOf",r.obras),d(),c("ngIf",(s=r.kpiForm.get("obra_id"))==null?null:s.hasError("required")),d(7),c("ngForOf",r.actividades),d(6),c("matDatepicker",$),d(),c("for",$),d(3),c("ngIf",(p=r.kpiForm.get("fecha"))==null?null:p.hasError("required")),d(23),c("ngIf",(g=r.kpiForm.get("avance_fisico"))==null?null:g.hasError("required")),d(),c("ngIf",((O=r.kpiForm.get("avance_fisico"))==null?null:O.hasError("min"))||((O=r.kpiForm.get("avance_fisico"))==null?null:O.hasError("max"))),d(7),c("ngIf",(F=r.kpiForm.get("productividad"))==null?null:F.hasError("required")),d(),c("ngIf",(D=r.kpiForm.get("productividad"))==null?null:D.hasError("min")),d(8),c("ngIf",(q=r.kpiForm.get("personal_asignado"))==null?null:q.hasError("required")),d(19),c("ngIf",(V=r.kpiForm.get("calidad"))==null?null:V.hasError("required")),d(),c("ngIf",((I=r.kpiForm.get("calidad"))==null?null:I.hasError("min"))||((I=r.kpiForm.get("calidad"))==null?null:I.hasError("max"))),d(35),c("ngIf",(j=r.kpiForm.get("desviacion_cronograma"))==null?null:j.hasError("required")),d(9),c("ngIf",(N=r.kpiForm.get("costo_ejecutado"))==null?null:N.hasError("required")),d(9),c("ngIf",(z=r.kpiForm.get("costo_presupuestado"))==null?null:z.hasError("required")),d(21),c("disabled",!((A=r.kpiForm.get("avance_fisico"))!=null&&A.value)),d(4),c("disabled",!r.kpiForm.valid||r.loading||r.submitting),d(),c("ngIf",!r.submitting),d(),c("ngIf",r.submitting),d(),c("ngIf",r.submitting),d(),c("ngIf",!r.submitting),d(),c("ngIf",r.editingKpi),d(10),c("ngIf",r.kpis.length>0),d(),c("ngIf",!r.loading)("ngIfElse",ot)}},dependencies:[X,G,Y,Q,J,U,W,se,ie,Z,ne,ee,te,de,le,re,ae,oe,ge,me,ue,fe,_e,pe,Se,Ee,xe,Ce,ve,he,be,Pe,Me,Ae,ze,Ne,it,Ze,et,tt,nt,Oe,we,ye,Je,$e,Be,Ye,He,Re,Qe,Le,Ge,Ue,We,ke,Ie,De,Te,Ke,Ve,qe],styles:[".kpis-container[_ngcontent-%COMP%]{padding:20px;max-width:1400px;margin:0 auto}.form-card[_ngcontent-%COMP%]{margin-bottom:30px;box-shadow:0 4px 12px #0000001a;border-radius:12px}.form-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:12px 12px 0 0;padding:20px}.form-card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;font-size:1.5rem;font-weight:600}.form-card[_ngcontent-%COMP%]   mat-card-subtitle[_ngcontent-%COMP%]{color:#fffc;margin-top:8px}.kpi-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:30px;padding:20px}.form-section[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:20px;border-left:4px solid #667eea}.section-title[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin:0 0 20px;color:#333;font-size:1.2rem;font-weight:500}.section-title[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea}.form-row[_ngcontent-%COMP%]{display:flex;gap:20px;align-items:flex-start;margin-bottom:15px}.form-row[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{flex:1}.form-row.full-width[_ngcontent-%COMP%]{flex-direction:column}.form-row.full-width[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:flex-end;margin-top:30px;padding:20px;background:#f8f9fa;border-radius:0 0 12px 12px}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{min-width:140px;height:45px;font-weight:500}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.table-card[_ngcontent-%COMP%]{margin-top:30px;box-shadow:0 4px 12px #0000001a;border-radius:12px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.kpi-table[_ngcontent-%COMP%]{width:100%;min-width:800px}.mat-column-actions[_ngcontent-%COMP%]{width:120px;text-align:center}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:8px;justify-content:center}.no-data[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.loading-spinner[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:40px}  .mat-form-field-appearance-outline .mat-form-field-outline{border-radius:8px}  .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border-color:#667eea}  .mat-form-field-appearance-outline .mat-form-field-label{color:#555}  .mat-hint{color:#666;font-size:.85rem}  .mat-select-panel{border-radius:8px}.kpis-table[_ngcontent-%COMP%]{width:100%;margin-top:16px}.kpis-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f5f5f5;font-weight:600;color:#333}.kpis-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .kpis-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:12px 16px;text-align:left}.percentage[_ngcontent-%COMP%]{font-weight:500;padding:4px 8px;border-radius:4px;background-color:#e3f2fd;color:#1976d2}.delay[_ngcontent-%COMP%]{color:#d32f2f;font-weight:500}.advance[_ngcontent-%COMP%]{color:#388e3c;font-weight:500}.metric-good[_ngcontent-%COMP%]{color:#4caf50;font-weight:600}.metric-warning[_ngcontent-%COMP%]{color:#ff9800;font-weight:600}.metric-poor[_ngcontent-%COMP%]{color:#f44336;font-weight:600}.cost-good[_ngcontent-%COMP%]{color:#4caf50;background-color:#e8f5e8;padding:4px 8px;border-radius:12px;font-size:.85em;font-weight:500}.cost-warning[_ngcontent-%COMP%]{color:#ff9800;background-color:#fff3e0;padding:4px 8px;border-radius:12px;font-size:.85em;font-weight:500}.cost-over[_ngcontent-%COMP%]{color:#f44336;background-color:#ffebee;padding:4px 8px;border-radius:12px;font-size:.85em;font-weight:500}.schedule-good[_ngcontent-%COMP%]{color:#4caf50}.schedule-warning[_ngcontent-%COMP%]{color:#ff9800}.schedule-delayed[_ngcontent-%COMP%]{color:#f44336}.safety-good[_ngcontent-%COMP%]{color:#4caf50}.safety-warning[_ngcontent-%COMP%]{color:#ff9800}.safety-critical[_ngcontent-%COMP%]{color:#f44336}.status-chip[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:12px;font-size:.85em;font-weight:500}.status-activo[_ngcontent-%COMP%]{background-color:#e8f5e8;color:#2e7d32}.status-revision[_ngcontent-%COMP%]{background-color:#fff3e0;color:#f57c00}.status-aprobado[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.progress-bar[_ngcontent-%COMP%]{width:60px;height:8px;background-color:#e0e0e0;border-radius:4px;overflow:hidden;margin:2px 0}.progress-fill[_ngcontent-%COMP%]{height:100%;transition:width .3s ease}.progress-primary[_ngcontent-%COMP%]{background-color:#2196f3}.progress-accent[_ngcontent-%COMP%]{background-color:#ff9800}.progress-warn[_ngcontent-%COMP%]{background-color:#f44336}.cost-display[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px;font-size:.9em}.cost-executed[_ngcontent-%COMP%]{font-weight:600}.cost-budgeted[_ngcontent-%COMP%]{color:#666;font-size:.85em}.personnel-count[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;background-color:#f5f5f5;padding:4px 8px;border-radius:12px;font-size:.9em}.actividad-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;font-size:.9em;padding:4px 8px;border-radius:4px;background-color:#f5f5f5}.actividad-info.general-kpi[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.actividad-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:16px;width:16px;height:16px}.incident-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;padding:4px 8px;border-radius:12px;font-size:.85em;font-weight:500}.filter-section[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;margin-bottom:20px;flex-wrap:wrap}.search-field[_ngcontent-%COMP%]{flex:1;min-width:200px}.status-filter[_ngcontent-%COMP%]{min-width:150px}@media (max-width: 768px){.kpis-container[_ngcontent-%COMP%]{padding:16px}.form-row[_ngcontent-%COMP%]{flex-direction:column;gap:8px}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%}.header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.mat-table[_ngcontent-%COMP%]{min-width:800px}.filter-section[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.search-field[_ngcontent-%COMP%], .status-filter[_ngcontent-%COMP%]{width:100%}.cost-display[_ngcontent-%COMP%]{font-size:.8em}.personnel-count[_ngcontent-%COMP%], .incident-badge[_ngcontent-%COMP%], .status-chip[_ngcontent-%COMP%]{font-size:.75em;padding:2px 6px}}@media (max-width: 480px){.table-container[_ngcontent-%COMP%]{font-size:.875rem}.kpis-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .kpis-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:8px 12px}}mat-card[_ngcontent-%COMP%]{border-radius:8px}mat-form-field[_ngcontent-%COMP%]{width:100%}.mat-mdc-raised-button[_ngcontent-%COMP%]{box-shadow:0 2px 4px #0003}.mat-mdc-icon-button[_ngcontent-%COMP%]{margin:0 4px}.form-actions[_ngcontent-%COMP%]   mat-spinner[_ngcontent-%COMP%]{display:inline-block;margin-right:8px}.kpis-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.status-good[_ngcontent-%COMP%]{color:#4caf50}.status-warning[_ngcontent-%COMP%]{color:#ff9800}.status-danger[_ngcontent-%COMP%]{color:#f44336}"]})}}return i})();export{Di as KpisComponent};
