import{a as o,b as t}from"./chunk-G7YPFBNB.js";import{ba as n}from"./chunk-B6672ACT.js";import{i as a}from"./chunk-ODN5LVDJ.js";var p=(()=>{class s{constructor(){this.supabase=o(t.supabase.url,t.supabase.anonKey,{auth:{autoRefreshToken:t.supabase.auth?.autoRefreshToken??!1,persistSession:t.supabase.auth?.persistSession??!1,detectSessionInUrl:t.supabase.auth?.detectSessionInUrl??!1,storageKey:"sb-data-only-token",storage:{getItem:()=>null,setItem:()=>{},removeItem:()=>{}}}})}get client(){return this.supabase}get auth(){return this.supabase.auth}get db(){return this.supabase}get storage(){return this.supabase.storage}get realtime(){return this.supabase.realtime}getCurrentUserId(){return a(this,null,function*(){let{data:{user:e}}=yield this.supabase.auth.getUser();return e?.id||null})}getCurrentUser(){return a(this,null,function*(){let{data:{user:e}}=yield this.supabase.auth.getUser();return e})}setSession(e,r){return a(this,null,function*(){try{yield this.supabase.auth.setSession({access_token:e,refresh_token:r||""})}catch(u){console.error("Error setting session:",u)}})}static{this.\u0275fac=function(r){return new(r||s)}}static{this.\u0275prov=n({token:s,factory:s.\u0275fac,providedIn:"root"})}}return s})();export{p as a};
